<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Conditionals</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/inter-ui/3.19.3/inter.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- External Dependencies -->
    <script src="buckles.js"></script>
    <script src="quiz.js"></script>
    <script src="https://skulpt.org/js/skulpt.min.js"></script>
    <script src="https://skulpt.org/js/skulpt-stdlib.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@11.0.1/dist/js/shepherd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@11.0.1/dist/css/shepherd.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Modular Editor System -->
    <script src="editor.js"></script>
    
    <!-- Include Flowchart.js dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.15.0/flowchart.min.js"></script>
    
    <!-- Favicon Icons -->
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    
    <style>
        .feedback-correct {
            padding: 10px 15px;
            background-color: rgba(82, 196, 26, 0.1);
            border-left: 4px solid #52c41a;
            color: #52c41a;
        }
        
        .feedback-incorrect {
            padding: 10px 15px;
            background-color: rgba(255, 77, 79, 0.1);
            border-left: 4px solid #ff4d4f;
            color: #ff4d4f;
        }
        
        .correct-choice {
            border-left: 4px solid #52c41a !important;
            background-color: rgba(82, 196, 26, 0.1) !important;
        }
        
        .selected-choice {
            border: 2px solid var(--accent-color);
        }
        
        .choice {
            transition: all 0.3s ease;
        }

        /* Enhanced Tour Styling */
        .shepherd-element {
            max-width: 400px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .shepherd-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 16px 20px;
            border-bottom: none;
        }
        
        .shepherd-title {
            color: white !important;
            font-weight: 600;
            font-size: 1.1em;
            margin: 0;
        }
        
        .shepherd-content {
            padding: 20px;
            background: white;
        }
        
        .shepherd-text {
            color: #2c3e50;
            line-height: 1.5;
            margin: 0;
        }
        
        .shepherd-text p {
            margin-bottom: 12px;
        }
        
        .shepherd-text p:last-child {
            margin-bottom: 0;
        }
        
        .shepherd-footer {
            padding: 16px 20px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            text-align: right;
        }
        
        .shepherd-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .shepherd-button:hover {
            background: #2980b9;
        }
        
        .shepherd-button-secondary {
            background: #95a5a6;
            margin-right: 8px;
        }
        
        .shepherd-button-secondary:hover {
            background: #7f8c8d;
        }
        
        .shepherd-cancel-icon {
            color: white;
            font-size: 18px;
            opacity: 0.8;
        }
        
        .shepherd-cancel-icon:hover {
            opacity: 1;
        }
        
        /* Code highlighting in tour */
        .shepherd-text code {
            background: #f1f2f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
            font-size: 0.9em;
        }
        
        .shepherd-text div[style*="background"] {
            background: #f8f9fa !important;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <!-- Experiment Panels (populated by editor.js) -->
    <div id="experiments-container"></div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" style="overflow-y: auto; overflow-x: hidden;">
        <div class="sidebar-logo">PYTHON CONDITIONALS</div>
        <a href="index.html" class="home-button">
            <i class="fas fa-home"></i>
            HOME
        </a>
        <div class="sidebar-nav">
            <button class="tab-button active" data-tab="lisc">
                <i class="fas fa-clipboard-list"></i>
                LI/SC
            </button>
            <button class="tab-button" data-tab="chunk1">
                <i class="fas fa-cube"></i>
                CHUNK 1
            </button>
            <button class="tab-button" data-tab="chew1">
                <i class="fas fa-utensils"></i>
                CHEW 1
            </button>
            <button class="tab-button" data-tab="chunk2">
                <i class="fas fa-cube"></i>
                CHUNK 2
            </button>
            <button class="tab-button" data-tab="chew2">
                <i class="fas fa-utensils"></i>
                CHEW 2
            </button>
            <button class="tab-button" data-tab="chunk3">
                <i class="fas fa-cube"></i>
                CHUNK 3
            </button>
            <button class="tab-button" data-tab="chew3">
                <i class="fas fa-utensils"></i>
                CHEW 3
            </button>
            <button class="tab-button" data-tab="recap">
                <i class="fas fa-bookmark"></i>
                RECAP
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Learning Intentions and Success Criteria section -->
        <section id="lisc" class="tab-content active light-section">
            <h1>LEARNING INTENTIONS & SUCCESS CRITERIA <i class="fas fa-bullseye" style="margin-left: 15px;"></i></h1>
            
            <div class="card">
                <div class="element-header" style="margin: -35px -40px 30px -40px; padding: 25px 35px;">
                    <div class="element-number">1</div>
                    <h3>Learning Intentions <i class="fas fa-bullseye" style="margin-left: 15px; color: var(--accent-color);"></i></h3>
                </div>
                
                <ul>
                    <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 12px;"></i> Understand what conditional statements are and how to represent them with flowcharts</li>
                    <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 12px;"></i> Learn how to create if, else, and elif statements to make decisions in code</li>
                </ul>
            </div>
            
            <div class="card">
                <div class="element-header" style="margin: -35px -40px 30px -40px; padding: 25px 35px;">
                    <div class="element-number">2</div>
                    <h3>Success Criteria <i class="fas fa-trophy" style="margin-left: 15px; color: var(--accent-color);"></i></h3>
                </div>
                
                <p>By the end of this lesson, you should be able to:</p>
                
                <ul>
                    <li><i class="fas fa-star" style="color: var(--accent-color); margin-right: 12px;"></i> Write if-else statements with correct syntax and indentation</li>
                    <li><i class="fas fa-star" style="color: var(--accent-color); margin-right: 12px;"></i> Represent algorithms with flowcharts</li>
                </ul>
            </div>
        </section>

        <!-- RECAP: Summary -->
        <section id="recap" class="tab-content dark-section">
            <h1>RECAP: CONDITIONALS SUMMARY <i class="fas fa-bookmark" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">REVIEW SECTION</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 5 mins</div>
                
                <h3>Quick Reference Guide</h3>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Conditionals Are Everywhere! <i class="fas fa-question-circle" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="elements-grid" style="margin-top: 0;">
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-cloud-rain" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Weather Decisions</h4>
                                <p>IF raining THEN umbrella</p>
                            </div>
                        </div>
                        
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-graduation-cap" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Grade Systems</h4>
                                <p>IF score â‰¥ 90 THEN grade A</p>
                            </div>
                        </div>
                        
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-gamepad" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Game Logic</h4>
                                <p>IF lives = 0 THEN game over</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Comparison Operators <i class="fas fa-equals" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0;">
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">==</div>
                            <p style="margin: 0; font-size: 0.9em;">Equal to</p>
                        </div>
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">!=</div>
                            <p style="margin: 0; font-size: 0.9em;">Not equal to</p>
                        </div>
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">&gt;</div>
                            <p style="margin: 0; font-size: 0.9em;">Greater than</p>
                        </div>
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">&lt;</div>
                            <p style="margin: 0; font-size: 0.9em;">Less than</p>
                        </div>
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">&gt;=</div>
                            <p style="margin: 0; font-size: 0.9em;">Greater or equal</p>
                        </div>
                        <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                            <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">&lt;=</div>
                            <p style="margin: 0; font-size: 0.9em;">Less or equal</p>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Essential Conditional Syntax <i class="fas fa-code" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="two-column-grid" style="margin: 0; gap: 20px;">
                        <div>
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">Basic If Statement</h4>
                            <div class="code-block" style="font-size: 0.9em; margin-bottom: 15px;">
<span style="color: #F92672;">if</span> <span style="color: #50FA7B;">condition</span><span style="color: #F92672;">:</span>
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"True"</span>)
                            </div>
                            
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">If-Else Statement</h4>
                            <div class="code-block" style="font-size: 0.9em;">
<span style="color: #F92672;">if</span> <span style="color: #50FA7B;">condition</span><span style="color: #F92672;">:</span>
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"True"</span>)
<span style="color: #F92672;">else</span><span style="color: #F92672;">:</span>
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"False"</span>)
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">Multiple Conditions</h4>
                            <div class="code-block" style="font-size: 0.9em; margin-bottom: 15px;">
<span style="color: #F92672;">if</span> <span style="color: #50FA7B;">score</span> <span style="color: #F92672;">>=</span> <span style="color: #AE81FF;">90</span><span style="color: #F92672;">:</span>
    <span style="color: #50FA7B;">grade</span> <span style="color: #F92672;">=</span> <span style="color: #E6DB74;">"A"</span>
<span style="color: #F92672;">elif</span> <span style="color: #50FA7B;">score</span> <span style="color: #F92672;">>=</span> <span style="color: #AE81FF;">80</span><span style="color: #F92672;">:</span>
    <span style="color: #50FA7B;">grade</span> <span style="color: #F92672;">=</span> <span style="color: #E6DB74;">"B"</span>
<span style="color: #F92672;">else</span><span style="color: #F92672;">:</span>
    <span style="color: #50FA7B;">grade</span> <span style="color: #F92672;">=</span> <span style="color: #E6DB74;">"C"</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, rgba(0, 38, 84, 0.1), rgba(52, 152, 219, 0.1)); border-radius: var(--border-radius); padding: 30px; margin-top: 30px; text-align: center; border: 2px solid var(--accent-color);">
                    <div style="font-size: 3em; margin-bottom: 15px;">ðŸŽ“</div>
                    <h4 style="color: var(--accent-color); margin-bottom: 15px; font-size: 1.3em;">You've Mastered Python Conditionals!</h4>
                    <p style="margin-bottom: 0; font-size: 1.1em; color: var(--text-color);">You can now create programs that make intelligent decisions based on different conditions.</p>
                </div>
            </div>
        </section>

        <!-- CHUNK 1: What are Conditional Statements? -->
        <section id="chunk1" class="tab-content dark-section">
            <h1>CHUNK 1: WHAT ARE CONDITIONAL STATEMENTS? <i class="fas fa-question-circle" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 10 mins</div>
                
                <h3>Conditionals: Making Decisions in Code</h3>
                
                <p>In real life, we make decisions all the time based on conditions. For example, "If it's raining, I'll take an umbrella." Programming works the same way! Conditional statements let our programs make decisions and execute different code based on different situations.</p>
                
                <div class="two-column-grid" style="margin-top: 30px;">
                    <div class="interactive-card">
                        <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                            <div class="element-number">1</div>
                            <h3>Real-Life Decisions <i class="fas fa-brain" style="margin-left: 10px;"></i></h3>
                        </div>
                        
                        <div class="variable-animation" style="padding: 30px;">
                            <p style="text-align: center; font-weight: bold; font-size: 1.2em; margin-bottom: 25px;">Everyday decision-making:</p>
                            
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-cloud-rain"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Weather Decision</h4>
                                    <p>IF it's raining THEN take an umbrella ELSE wear sunglasses</p>
                                </div>
                            </div>
                            
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-temperature-high"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Temperature Decision</h4>
                                    <p>IF temperature > 30Â°C THEN turn on AC ELSE keep windows open</p>
                                </div>
                            </div>
                            
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-gamepad"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Game Decision</h4>
                                    <p>IF score > 100 THEN level up ELSE continue current level</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="interactive-card">
                        <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                            <div class="element-number">2</div>
                            <h3>Basic If Statement <i class="fas fa-code" style="margin-left: 10px;"></i></h3>
                        </div>
                        
                        <p style="font-size: 1.2em; text-align: center; font-weight: 600; margin-bottom: 20px;">In Python, we create if statements using this pattern:</p>
                        
                        <div class="code-block">
<span class="highlight-variable">if</span> <span class="highlight-value">condition</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">code_to_run_if_true</span>
                        </div>
                        
                        <p style="font-size: 1.2em; text-align: center; font-weight: 600; margin: 25px 0 20px 0;">For example:</p>
                        
                        <div class="code-block">
<span class="highlight-variable">temperature</span> <span class="highlight-operator">=</span> <span class="highlight-value">32</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">30</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"It's hot today!"</span><span class="highlight-operator">)</span>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 15px; margin-top: 25px;">
                            <p style="margin: 0;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i> Notice the colon (:) and indentation - these are required in Python!</p>
                        </div>
                    </div>
                </div>
                
                <!-- New Section for Condition Explanation -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Understanding Conditions <i class="fas fa-equals" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: center; margin-bottom: 20px;">A condition is a test that results in either <strong>True</strong> or <strong>False</strong>.</p>
                    
                    <div class="two-column-grid" style="margin-top: 0;">
                        <div class="interactive-card" style="border-left: 4px solid var(--accent-color);">
                            <h4><i class="fas fa-not-equal" style="margin-right: 10px;"></i> Comparison Operators</h4>
                            <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                                <tr style="background-color: var(--accent-color); color: white;">
                                    <th style="padding: 10px; border: 1px solid var(--outline-color);">Operator</th>
                                    <th style="padding: 10px; border: 1px solid var(--outline-color);">Meaning</th>
                                    <th style="padding: 10px; border: 1px solid var(--outline-color);">Example</th>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code>==</code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Equal to</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>score == 10</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code>!=</code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Not equal to</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>answer != "yes"</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code>></code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Greater than</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>age > 12</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code><</code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Less than</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>temperature < 0</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code>>=</code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Greater than or equal to</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>score >= 50</code></td>
                                </tr>
                                <tr>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color); text-align: center;"><code><=</code></td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);">Less than or equal to</td>
                                    <td style="padding: 10px; border: 1px solid var(--outline-color);"><code>grade <= 100</code></td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid var(--accent-color);">
                            <h4><i class="fas fa-check-double" style="margin-right: 10px;"></i> Condition Results</h4>
                            <div style="margin-top: 15px;">
                                <div style="background-color: rgba(82, 196, 26, 0.1); padding: 15px; border-radius: var(--border-radius); border-left: 4px solid #52c41a; margin-bottom: 15px;">
                                    <p style="margin: 0; font-weight: bold; color: #52c41a;">True Conditions:</p>
                                    <ul style="margin-top: 10px; margin-bottom: 0;">
                                        <li><code>5 > 3</code> (5 is greater than 3)</li>
                                        <li><code>10 == 10</code> (10 is equal to 10)</li>
                                        <li><code>"hello" == "hello"</code> (strings match)</li>
                                        <li><code>temperature >= 30</code> (if temperature is 30 or higher)</li>
                                    </ul>
                                </div>
                                
                                <div style="background-color: rgba(255, 77, 79, 0.1); padding: 15px; border-radius: var(--border-radius); border-left: 4px solid #ff4d4f;">
                                    <p style="margin: 0; font-weight: bold; color: #ff4d4f;">False Conditions:</p>
                                    <ul style="margin-top: 10px; margin-bottom: 0;">
                                        <li><code>5 < 3</code> (5 is not less than 3)</li>
                                        <li><code>10 != 10</code> (10 is not "not equal to" 10)</li>
                                        <li><code>"Hello" == "hello"</code> (different case matters!)</li>
                                        <li><code>score > 100</code> (if score is 100 or lower)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive if statement execution -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">4</div>
                        <h3>Seeing Code Run <i class="fas fa-play" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: center; margin-bottom: 20px;">Let's see how an if statement runs:</p>
                    
                    <div class="variable-animation" style="padding: 30px;">
                        <div class="code-step-container">
                            <div class="code-step-header">
                                <span>If Statement in Action</span>
                                <span id="conditional-indicator">Step 1 of 3</span>
                            </div>
                            
                            <div class="code-step-content">
                                <!-- Step 1: Initialize variable -->
                                <div id="conditional-step-1" class="variable-update-step active">
                                    <div class="code-block" style="position: relative; text-align: left;">
<div class="execution-line active"><span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value">85</span></div>

<span class="code-comment"># First we create a variable to hold the score</span>
<span class="code-comment"># We'll use this in our condition</span>
                                    </div>
                                    
                                    <div class="memory-visualization">
                                        <h4 style="text-align: center; margin-top: 0;">Computer Memory</h4>
                                        <div class="computer-memory">
                                            <div class="memory-item">
                                                <div class="memory-item-name">score</div>
                                                <div class="memory-item-value">85</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Step 2: Evaluate condition -->
                                <div id="conditional-step-2" class="variable-update-step">
                                    <div class="code-block" style="position: relative; text-align: left;">
<span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value">85</span>
<div class="execution-line active"><span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">70</span><span class="highlight-operator">:</span></div>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You passed!"</span><span class="highlight-operator">)</span>

<span class="code-comment"># Now we check if score is >= 70</span>
<span class="code-comment"># Is 85 >= 70? Yes, that's TRUE!</span>
<span class="code-comment"># So we will run the indented code</span>
                                    </div>
                                    
                                    <div class="memory-visualization">
                                        <h4 style="text-align: center; margin-top: 0;">Condition Check</h4>
                                        <div style="display: flex; justify-content: center; align-items: center; gap: 15px; margin: 20px 0;">
                                            <div style="background-color: #f0f0f0; padding: 15px; border-radius: var(--border-radius); font-size: 1.2em;">score >= 70</div>
                                            <div style="font-size: 1.5em;">âŸ¹</div>
                                            <div style="background-color: rgba(82, 196, 26, 0.2); padding: 15px; border-radius: var(--border-radius); font-size: 1.2em; font-weight: bold; color: #52c41a;">TRUE</div>
                                        </div>
                                        <div style="background-color: rgba(82, 196, 26, 0.1); padding: 15px; border-radius: var(--border-radius); border-left: 4px solid #52c41a; text-align: left;">
                                            <p style="margin: 0;"><strong>Explanation:</strong> 85 is greater than or equal to 70, so this condition is True</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Step 3: Execute code inside if statement -->
                                <div id="conditional-step-3" class="variable-update-step">
                                    <div class="code-block" style="position: relative; text-align: left;">
<span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value">85</span>
<span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">70</span><span class="highlight-operator">:</span>
<div class="execution-line active">    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You passed!"</span><span class="highlight-operator">)</span></div>

<span class="code-comment"># Since the condition was True</span>
<span class="code-comment"># We execute the indented code</span>
<span class="code-comment"># This will print "You passed!" to the screen</span>
                                    </div>
                                    
                                    <div class="memory-visualization">
                                        <h4 style="text-align: center; margin-top: 0;">Program Output</h4>
                                        <div class="result-display">
                                            You passed!
                                        </div>
                                        <div style="background-color: rgba(0,0,0,0.05); padding: 15px; border-radius: var(--border-radius); margin-top: 20px; text-align: left;">
                                            <p style="margin: 0;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i> <strong>Important:</strong> If the condition had been False, the indented code would be <strong>skipped</strong> entirely!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="step-navigation">
                                <button id="prev-conditional-btn" class="step-btn" onclick="prevConditionalStep()" disabled>
                                    <i class="fas fa-chevron-left"></i> Previous
                                </button>
                                <button id="next-conditional-btn" class="step-btn" onclick="nextConditionalStep()">
                                    Next <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Why Conditionals Matter <i class="fas fa-question-circle" style="margin-left: 10px;"></i></h3>
                <div class="elements-grid" style="display: grid; grid-template-columns: repeat(2, 1fr);">
                    <div class="element-card" style="background-color: #f0f7ff; transition: all 0.3s ease;">
                        <div class="element-header">
                            <div class="element-number">1</div>
                            <h3>DECISION MAKING <i class="fas fa-code-branch" style="margin-left: 12px;"></i></h3>
                        </div>
                        <div class="element-content">
                            <p>Conditionals let your program make choices based on data</p>
                            <div style="text-align: center; margin-top: 15px;">
                                <i class="fas fa-random" style="font-size: 2.5em; color: var(--accent-color);"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="element-card" style="background-color: #f0fff4; transition: all 0.3s ease;">
                        <div class="element-header">
                            <div class="element-number">2</div>
                            <h3>MULTIPLE PATHS <i class="fas fa-map-signs" style="margin-left: 12px;"></i></h3>
                        </div>
                        <div class="element-content">
                            <p>Your program can follow different routes based on conditions</p>
                            <div style="text-align: center; margin-top: 15px;">
                                <i class="fas fa-route" style="font-size: 2.5em; color: var(--accent-color);"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="element-card" style="background-color: #fff7f0; transition: all 0.3s ease;">
                        <div class="element-header">
                            <div class="element-number">3</div>
                            <h3>SMART PROGRAMS <i class="fas fa-brain" style="margin-left: 12px;"></i></h3>
                        </div>
                        <div class="element-content">
                            <p>Programs can respond differently based on user input or situations</p>
                            <div style="text-align: center; margin-top: 15px;">
                                <i class="fas fa-robot" style="font-size: 2.5em; color: var(--accent-color);"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="element-card" style="background-color: #f0f0ff; transition: all 0.3s ease;">
                        <div class="element-header">
                            <div class="element-number">4</div>
                            <h3>ERROR HANDLING <i class="fas fa-exclamation-triangle" style="margin-left: 12px;"></i></h3>
                        </div>
                        <div class="element-content">
                            <p>Conditionals help check for problems and handle unexpected situations</p>
                            <div style="text-align: center; margin-top: 15px;">
                                <i class="fas fa-shield-alt" style="font-size: 2.5em; color: var(--accent-color);"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHEW 1: Concept Check (Pair-share + buckle rewards for True/False) -->
        <section id="chew1" class="tab-content light-section">
            <h1>CHEW 1: CONCEPT CHECK <i class="fas fa-clipboard-check" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 5 mins</div>
                
                <h3>Check Your Understanding</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> In your own words, what are conditional statements?</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Identify the parts of an if statement</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Determine if conditions are True or False</li>
                    </ul>
                </div>
                
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Pair-Share Activity <i class="fas fa-users" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="background-color: rgba(16, 185, 129, 0.1); border-radius: var(--border-radius); padding: 25px; margin-bottom: 25px; text-align: center;">
                        <p style="font-size: 1.3em; font-weight: 600; margin-bottom: 15px;">Turn to your partner and discuss:</p>
                        <p style="text-align: left; font-size: 1.2em; margin-left: 20px; margin-bottom: 15px;">In your own words, what are conditional statements?</p>
                        <p style="text-align: left; font-size: 1.2em; margin-left: 20px; margin-bottom: 15px;">Give a real-life example of a decision that could be written as a conditional.</p>
                    </div>
                    
                    <p style="font-size: 1.3em; font-weight: 600; text-align: center; margin-bottom: 25px;">Identify what each part of this code does:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">if</span> <span class="highlight-variable">age</span> <span class="highlight-operator">>=</span> <span class="highlight-value">12</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You can ride this roller coaster!"</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="background-color: rgba(16, 185, 129, 0.1); border-radius: var(--border-radius); padding: 25px; margin: 25px 0;">
                        <p style="font-size: 1.2em; margin-bottom: 15px;">Make sure your explanation includes these terms:</p>
                        <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px;">
                            <div style="background-color: white; padding: 15px 25px; border-radius: var(--border-radius); font-weight: 600; font-size: 1.2em; border: 2px solid var(--outline-color);">
                                condition
                            </div>
                            <div style="background-color: white; padding: 15px 25px; border-radius: var(--border-radius); font-weight: 600; font-size: 1.2em; border: 2px solid var(--outline-color);">
                                comparison operator
                            </div>
                            <div style="background-color: white; padding: 15px 25px; border-radius: var(--border-radius); font-weight: 600; font-size: 1.2em; border: 2px solid var(--outline-color);">
                                indentation
                            </div>
                        </div>
                    </div>
                </div>
                
                
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>True or False? <i class="fas fa-check-double" style="margin-left: 10px;"></i></h3>
                        <div id="buckle-container"></div>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: center; margin-bottom: 20px;">For each condition, decide if it evaluates to True or False:</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(450px, 1fr)); gap: 20px; margin-top: 20px;">
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">1. <code>5 + 5 == 10</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(1, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(1, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer1" style="margin-top: 10px; display: none;"></p>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">2. <code>7 < 3</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(2, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(2, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer2" style="margin-top: 10px; display: none;"></p>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">3. <code>10 <= 10</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(3, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(3, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer3" style="margin-top: 10px; display: none;"></p>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">4. <code>"Hello" == "hello"</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(4, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(4, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer4" style="margin-top: 10px; display: none;"></p>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">5. <code>20 != 15</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(5, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(5, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer5" style="margin-top: 10px; display: none;"></p>
                        </div>
                        
                        <div style="background-color: rgba(0,0,0,0.03); padding: 15px; border-radius: var(--border-radius);">
                            <p style="margin: 0 0 10px 0; font-weight: 600;">6. <code>5 * 2 >= 12</code></p>
                            <div style="display: flex; gap: 10px;">
                                <button class="action-btn true-btn" onclick="checkConditionAnswer(6, true, 'conditionals')" style="flex: 1;">True</button>
                                <button class="action-btn false-btn" onclick="checkConditionAnswer(6, false, 'conditionals')" style="flex: 1;">False</button>
                            </div>
                            <p id="condition-answer6" style="margin-top: 10px; display: none;"></p>
                        </div>
                    </div>
                </div>

                <!-- Quiz container populated by editor.js -->
                <div id="quiz-container" class="duolingo-container"></div>
            </div>
        </section>

        <!-- CHUNK 2: If-Else Statements -->
        <section id="chunk2" class="tab-content dark-section">
            <h1>CHUNK 2: IF-ELSE STATEMENTS <i class="fas fa-exchange-alt" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 10 mins</div>
                
                <h3>Handling Two Possible Outcomes</h3>
                
                <p>So far, we've seen how to run code when a condition is True. But what if we want to do something else when the condition is False? This is where the <code>else</code> statement comes in!</p>
                
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Introducing if-else <i class="fas fa-code-branch" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; margin-bottom: 20px;">The if-else statement allows us to handle both True and False situations:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">if</span> <span class="highlight-value">condition</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># This code runs when condition is True</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># This code runs when condition is False</span>
                    </div>
                    
                    <p style="font-size: 1.2em; margin: 25px 0 20px 0;">For example:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">temperature</span> <span class="highlight-operator">=</span> <span class="highlight-value">15</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">20</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"It's warm today! Wear a t-shirt."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"It's cool today. Bring a jacket."</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 15px; margin-top: 25px; display: flex;">
                        <i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 15px; font-size: 1.5em; margin-top: 3px;"></i>
                        <p style="margin: 0;">Notice that we don't need a condition after <code>else</code>. The <code>else</code> block runs when the <code>if</code> condition is False.</p>
                    </div>
                </div>
                
                <!-- If-else execution visualization -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>How if-else Works <i class="fas fa-project-diagram" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="max-width: 700px; margin: 0 auto;">
                        <div style="text-align: center; margin: 30px 0;">
                            <div id="if-else-flowchart" style="height: 300px;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive example -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Interactive Example: Pass or Fail <i class="fas fa-graduation-cap" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: center; margin-bottom: 20px;">Try different scores to see if you pass or fail:</p>
                    
                    <div class="variable-animation" style="padding: 30px; text-align: center;">
                        <p style="margin-bottom: 15px; color: var(--accent-color); font-weight: 600; font-size: 1.3em;">Test Score</p>
                        
                        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 20px;">
                            <div id="test-score" style="font-size: 2.5rem; font-weight: bold; background-color: var(--accent-color); color: white; width: 100px; height: 100px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid var(--outline-color);">
                                55
                            </div>
                        </div>
                        
                        <div style="margin: 25px 0; display: flex; justify-content: center; gap: 20px;">
                            <button id="decrease-score" class="action-btn" style="background-color: #ff4d4f;" onclick="changeScore(-10)">-10</button>
                            <button id="increase-score" class="action-btn" onclick="changeScore(10)">+10</button>
                        </div>
                        
                        <div style="margin-top: 30px; text-align: left;">
                            <div class="code-block" style="text-align: left;">
<span class="code-comment"># Pass/fail checker</span>
<span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value"><span id="code-score">55</span></span>

<span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">60</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">result</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Pass"</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">result</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Fail"</span>

<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Your result is:"</span><span class="highlight-operator">,</span> <span class="highlight-variable">result</span><span class="highlight-operator">)</span>
                            </div>
                            
                            <div class="result-display">
                                Your result is: <span id="grade-output">Fail</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Common mistakes with if-else -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">4</div>
                        <h3>Common Mistakes to Avoid <i class="fas fa-exclamation-triangle" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="two-column-grid" style="margin-top: 0;">
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Missing Colon</h4>
                            <div class="code-block" style="color: var(--bad-color); text-align: left;">
if score > 90:
    print("Excellent!")
else
    print("Keep trying!")
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> Missing the colon (:) after the else statement.</p>
                                <p style="margin: 0;"><strong>Fix:</strong></p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px; text-align: left;">
if score > 90:
    print("Excellent!")
else:
    print("Keep trying!")
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Incorrect Indentation</h4>
                            <div class="code-block" style="color: var(--bad-color); text-align: left;">
if score > 90:
    print("Excellent!")
else:
print("Keep trying!")
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> The code inside the else block must be indented.</p>
                                <p style="margin: 0;"><strong>Fix:</strong></p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px; text-align: left;">
if score > 90:
    print("Excellent!")
else:
    print("Keep trying!")
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Using = Instead of ==</h4>
                            <div class="code-block" style="color: var(--bad-color); text-align: left;">
if answer = "yes":
    print("Great!")
else:
    print("That's too bad.")
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> Single equals (=) is for assignment, not comparison.</p>
                                <p style="margin: 0;"><strong>Fix:</strong></p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px; text-align: left;">
if answer == "yes":
    print("Great!")
else:
    print("That's too bad.")
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Condition After Else</h4>
                            <div class="code-block" style="color: var(--bad-color); text-align: left;">
if score > 90:
    print("Excellent!")
else if score > 50:
    print("You passed.")
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> In Python, we don't use "else if" - we'll learn the correct way (elif) in the next section!</p>
                                <p style="margin: 0;"><strong>Fix:</strong></p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px; text-align: left;">
if score > 90:
    print("Excellent!")
elif score > 50:
    print("You passed.")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHEW 2: Code Tracing Quiz + Interactive Coding -->
        <section id="chew2" class="tab-content light-section">
            <h1>CHEW 2: CODE TRACING & INTERACTIVE CODING <i class="fas fa-search" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 15 mins</div>
                
                <h3>Predict Code Output & Practice Coding</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Practice reading code with if-else statements</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Predict what code will output without running it</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Experiment with writing your own conditional statements</li>
                    </ul>
                </div>
                
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Code Tracing Quiz <i class="fas fa-code" style="margin-left: 10px;"></i></h3>
                        <div id="quiz-buckle-container"></div>
                    </div>
                    
                    <p style="font-size: 1.2em; margin-bottom: 20px;">Read the code and choose the correct output. Earn <span style="display: inline-flex; align-items: center; background-color: #f0f2f5; border-radius: 20px; padding: 3px 10px; color: #333;"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36' width='36' height='36'%3E%3Ccircle cx='18' cy='18' r='16' fill='%23FFD700' stroke='%23DAA520' stroke-width='2'/%3E%3Ctext x='18' y='24' font-family='Arial' font-size='20' font-weight='bold' text-anchor='middle' fill='%23000'%3EB%3C/text%3E%3C/svg%3E" alt="Buckle" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 5px;"><strong>2</strong></span> buckles for each correct answer on the first try!</p>
                    
                    <!-- Question 1 -->
                    <div style="margin-bottom: 30px; background-color: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 5px solid var(--accent-color);">
                        <h4>Question 1</h4>
                        <div class="code-block" style="text-align: left; margin-bottom: 20px;">
<span class="code-comment"># Weather advisor program</span>
<span class="highlight-variable">temperature</span> <span class="highlight-operator">=</span> <span class="highlight-value">22</span>
<span class="highlight-variable">is_raining</span> <span class="highlight-operator">=</span> <span class="highlight-value">False</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">is_raining</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Bring an umbrella!"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"No need for an umbrella today."</span><span class="highlight-operator">)</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">25</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"It's hot! Wear sunscreen."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"It's not too hot today."</span><span class="highlight-operator">)</span>
                        </div>
                        
                        <p><strong>What is the output of this code?</strong></p>
                        
                        <div class="multiple-choice">
                            <div class="choice" onclick="checkMultipleChoice(1, 'A', 'conditionals')">
                                <span class="choice-letter">A</span>
                                <div class="choice-text">
                                    <pre>Bring an umbrella!
It's hot! Wear sunscreen.</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(1, 'B', 'conditionals')">
                                <span class="choice-letter">B</span>
                                <div class="choice-text">
                                    <pre>No need for an umbrella today.
It's hot! Wear sunscreen.</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(1, 'C', 'conditionals')">
                                <span class="choice-letter">C</span>
                                <div class="choice-text">
                                    <pre>Bring an umbrella!
It's not too hot today.</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(1, 'D', 'conditionals')">
                                <span class="choice-letter">D</span>
                                <div class="choice-text">
                                    <pre>No need for an umbrella today.
It's not too hot today.</pre>
                                </div>
                            </div>
                        </div>
                        
                        <div id="feedback-q1" class="feedback-message" style="display: none; margin-top: 15px;"></div>
                    </div>
                    
                    <!-- Question 2 -->
                    <div style="margin-bottom: 30px; background-color: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 5px solid var(--accent-color);">
                        <h4>Question 2</h4>
                        <div class="code-block" style="text-align: left; margin-bottom: 20px;">
<span class="code-comment"># Movie ticket pricing</span>
<span class="highlight-variable">age</span> <span class="highlight-operator">=</span> <span class="highlight-value">14</span>
<span class="highlight-variable">price</span> <span class="highlight-operator">=</span> <span class="highlight-value">12</span>  <span class="code-comment"># Base price</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">age</span> <span class="highlight-operator"><</span> <span class="highlight-value">13</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">price</span> <span class="highlight-operator">=</span> <span class="highlight-variable">price</span> <span class="highlight-operator">-</span> <span class="highlight-value">5</span>  <span class="code-comment"># Child discount</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">price</span> <span class="highlight-operator">=</span> <span class="highlight-variable">price</span> <span class="highlight-operator">-</span> <span class="highlight-value">2</span>  <span class="code-comment"># Regular discount</span>

<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Ticket price: $"</span> <span class="highlight-operator">+</span> <span class="highlight-variable">str</span><span class="highlight-operator">(</span><span class="highlight-variable">price</span><span class="highlight-operator">)</span><span class="highlight-operator">)</span>
                        </div>
                        
                        <p><strong>What is the output of this code?</strong></p>
                        
                        <div class="multiple-choice">
                            <div class="choice" onclick="checkMultipleChoice(2, 'A', 'conditionals')">
                                <span class="choice-letter">A</span>
                                <div class="choice-text">
                                    <pre>Ticket price: $7</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(2, 'B', 'conditionals')">
                                <span class="choice-letter">B</span>
                                <div class="choice-text">
                                    <pre>Ticket price: $10</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(2, 'C', 'conditionals')">
                                <span class="choice-letter">C</span>
                                <div class="choice-text">
                                    <pre>Ticket price: $12</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(2, 'D', 'conditionals')">
                                <span class="choice-letter">D</span>
                                <div class="choice-text">
                                    <pre>Ticket price: $14</pre>
                                </div>
                            </div>
                        </div>
                        
                        <div id="feedback-q2" class="feedback-message" style="display: none; margin-top: 15px;"></div>
                    </div>
                    
                    <!-- Question 3 -->
                    <div style="margin-bottom: 30px; background-color: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 5px solid var(--accent-color);">
                        <h4>Question 3</h4>
                        <div class="code-block" style="text-align: left; margin-bottom: 20px;">
<span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value">85</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">90</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">message</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Excellent!"</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">80</span><span class="highlight-operator">:</span>
        <span class="highlight-variable">message</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Very good!"</span>
    <span class="highlight-variable">else</span><span class="highlight-operator">:</span>
        <span class="highlight-variable">message</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Keep practicing!"</span>

<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-variable">message</span><span class="highlight-operator">)</span>
                        </div>
                        
                        <p><strong>What is the output of this code?</strong></p>
                        
                        <div class="multiple-choice">
                            <div class="choice" onclick="checkMultipleChoice(3, 'A', 'conditionals')">
                                <span class="choice-letter">A</span>
                                <div class="choice-text">
                                    <pre>Excellent!</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(3, 'B', 'conditionals')">
                                <span class="choice-letter">B</span>
                                <div class="choice-text">
                                    <pre>Very good!</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(3, 'C', 'conditionals')">
                                <span class="choice-letter">C</span>
                                <div class="choice-text">
                                    <pre>Keep practicing!</pre>
                                </div>
                            </div>
                            
                            <div class="choice" onclick="checkMultipleChoice(3, 'D', 'conditionals')">
                                <span class="choice-letter">D</span>
                                <div class="choice-text">
                                    <pre>No output because of a syntax error</pre>
                                </div>
                            </div>
                        </div>
                        
                        <div id="feedback-q3" class="feedback-message" style="display: none; margin-top: 15px;"></div>
                    </div>
                </div>

                <!-- Brief concept recap -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Interactive Coding Experience <i class="fas fa-keyboard" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="background-color: rgba(0, 38, 84, 0.05); border-radius: var(--border-radius); padding: 20px; margin-bottom: 20px;">
                        <h4 style="color: var(--accent-color); margin-top: 0;">Key Concepts So Far:</h4>
                        <ul style="margin-bottom: 0;">
                            <li>If statements run code only when conditions are True</li>
                            <li>If-else statements provide an alternative when conditions are False</li>
                            <li>Comparison operators like ==, !=, >, < create True/False conditions</li>
                        </ul>
                    </div>
                </div>
                <br>
                
                <!-- Primary coding playground populated by editor.js -->
                <div id="primary-playground-container"></div>
            </div>
        </section>

        <!-- CHUNK 3: Multiple Choices with elif -->
        <section id="chunk3" class="tab-content dark-section">
            <h1>CHUNK 3: MULTIPLE CHOICES WITH ELIF <i class="fas fa-code-branch" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 10 mins</div>
                
                <h3>Handling More Than Two Possibilities</h3>
                
                <p>Sometimes we need more than just two options. What if we have several different cases to handle? This is where <code>elif</code> (short for "else if") comes in!</p>
                
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Introducing elif <i class="fas fa-code-branch" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; margin-bottom: 20px;">The if-elif-else structure allows us to check multiple conditions in sequence:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">if</span> <span class="highlight-value">first_condition</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># Code to run if first_condition is True</span>
<span class="highlight-variable">elif</span> <span class="highlight-value">second_condition</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># Code to run if first_condition is False but second_condition is True</span>
<span class="highlight-variable">elif</span> <span class="highlight-value">third_condition</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># Code to run if both first and second conditions are False but third is True</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-comment"># Code to run if all conditions are False</span>
                    </div>
                    
                    <p style="font-size: 1.2em; margin: 25px 0 20px 0;">For example, let's grade a test score:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">score</span> <span class="highlight-operator">=</span> <span class="highlight-value">85</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">90</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">"A"</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">80</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">"B"</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">70</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">"C"</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">score</span> <span class="highlight-operator">>=</span> <span class="highlight-value">60</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">"D"</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">"F"</span>

<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Your grade is:"</span><span class="highlight-operator">,</span> <span class="highlight-variable">grade</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 15px; margin-top: 25px; display: flex;">
                        <i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 15px; font-size: 1.5em; margin-top: 3px;"></i>
                        <p style="margin: 0;">Python checks conditions in order from top to bottom. Once it finds a condition that is True, it runs that code and skips all the remaining conditions!</p>
                    </div>
                </div>
                
                <!-- Interactive example -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Interactive Example: Weather App <i class="fas fa-cloud-sun-rain" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: center; margin-bottom: 20px;">Try different temperatures to see what clothes to wear:</p>
                    
                    <div class="variable-animation" style="padding: 30px; text-align: center;">
                        <p style="margin-bottom: 15px; color: var(--accent-color); font-weight: 600; font-size: 1.3em;">Temperature (Â°C)</p>
                        
                        <div style="display: flex; justify-content: center; align-items: center; gap: 30px; margin-bottom: 20px;">
                            <div id="weather-temp" style="font-size: 2.5rem; font-weight: bold; background-color: var(--accent-color); color: white; width: 100px; height: 100px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 2px solid var(--outline-color);">
                                15
                            </div>
                        </div>
                        
                        <div style="margin: 25px 0; display: flex; justify-content: center; gap: 20px;">
                            <button id="decrease-temp" class="action-btn" style="background-color: #ff4d4f;" onclick="changeTemperature(-5)">-5Â°C</button>
                            <button id="increase-temp" class="action-btn" onclick="changeTemperature(5)">+5Â°C</button>
                        </div>
                        
                        <div style="margin-top: 30px; text-align: left;">
                            <div class="code-block" style="text-align: left;">
<span class="code-comment"># Weather clothing recommendation</span>
<span class="highlight-variable">temperature</span> <span class="highlight-operator">=</span> <span class="highlight-value"><span id="code-temp">15</span></span>

<span class="highlight-variable">if</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">25</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">clothing</span> <span class="highlight-operator">=</span> <span class="highlight-value">"T-shirt and shorts"</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">15</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">clothing</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Light jacket"</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">temperature</span> <span class="highlight-operator">></span> <span class="highlight-value">5</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">clothing</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Warm coat"</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">clothing</span> <span class="highlight-operator">=</span> <span class="highlight-value">"Heavy winter coat and hat"</span>

<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You should wear:"</span><span class="highlight-operator">,</span> <span class="highlight-variable">clothing</span><span class="highlight-operator">)</span>
                            </div>
                            
                            <div class="result-display">
                                You should wear: <span id="clothing-output">Warm coat</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- When to use elif example -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Simple Program Example <i class="fas fa-gamepad" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; margin-bottom: 20px;">Here's an example of a simple quiz question using if-elif-else:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="code-comment"># Ask a quiz question</span>
<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"What is the capital of France?"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"A. London"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"B. Berlin"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"C. Paris"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"D. Rome"</span><span class="highlight-operator">)</span>

<span class="highlight-variable">answer</span> <span class="highlight-operator">=</span> <span class="highlight-variable">input</span><span class="highlight-operator">(</span><span class="highlight-value">"Enter your answer (A, B, C, or D): "</span><span class="highlight-operator">)</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">answer</span> <span class="highlight-operator">==</span> <span class="highlight-value">"A"</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Incorrect. London is the capital of the UK."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">answer</span> <span class="highlight-operator">==</span> <span class="highlight-value">"B"</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Incorrect. Berlin is the capital of Germany."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">answer</span> <span class="highlight-operator">==</span> <span class="highlight-value">"C"</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Correct! Paris is the capital of France."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">answer</span> <span class="highlight-operator">==</span> <span class="highlight-value">"D"</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Incorrect. Rome is the capital of Italy."</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"Invalid answer. Please enter A, B, C, or D."</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 15px; margin-top: 25px;">
                        <p style="margin: 0;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i> <strong>Note:</strong> The <code>else</code> block is used as a catch-all for any answers that don't match A, B, C, or D.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHEW 3: Interactive Coding + Flowcharts -->
        <section id="chew3" class="tab-content light-section">
            <h1>CHEW 3: INTERACTIVE CODING & FLOWCHARTS <i class="fas fa-project-diagram" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 20 mins</div>
                
                <h3>Advanced Conditionals & Visual Programming</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Write your own complex conditional statements</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Visualize how conditional logic works using flowcharts</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Practice translating code to visual representations</li>
                    </ul>
                </div>

                <!-- Brief concept recap -->
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Quick Recap <i class="fas fa-refresh" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="background-color: rgba(0, 38, 84, 0.05); border-radius: var(--border-radius); padding: 20px; margin-bottom: 20px;">
                        <h4 style="color: var(--accent-color); margin-top: 0;">Key Concepts So Far:</h4>
                        <ul style="margin-bottom: 0;">
                            <li>If statements check one condition</li>
                            <li>If-else statements provide two paths</li>
                            <li>If-elif-else statements handle multiple conditions</li>
                            <li>Python checks conditions from top to bottom</li>
                        </ul>
                    </div>
                </div>
                <br>
                
                <!-- Secondary coding playground populated by editor.js -->
                <div id="secondary-playground-container"></div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Draw Flowcharts <i class="fas fa-pencil-alt" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 30px;">
                        <i class="fas fa-project-diagram" style="font-size: 5em; color: var(--chew-color);"></i>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: left; margin-bottom: 20px;">Using Microsoft Whiteboard, draw a flowchart for this code:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">age</span> <span class="highlight-operator">=</span> <span class="highlight-value">15</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">age</span> <span class="highlight-operator">>=</span> <span class="highlight-value">18</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You can vote!"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"You cannot vote yet."</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="background-color: rgba(16, 185, 129, 0.1); border-radius: var(--border-radius); padding: 25px; margin: 25px 0;">
                        <p style="font-size: 1.2em; margin-bottom: 15px;"><strong>Tips for drawing flowcharts:</strong></p>
                        <ul>
                            <li>Use rectangles for process steps (like assigning variables)</li>
                            <li>Use diamonds for decisions (if statements)</li>
                            <li>Use arrows to show the flow direction</li>
                            <li>Label the decision paths with "Yes" and "No" or "True" and "False"</li>
                            <li>Use rectangles with rounded corners for start/end</li>
                        </ul>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button id="show-flowchart1" class="action-btn" onclick="toggleAnswer('flowchart-example1')">Show Example</button>
                    </div>
                    
                    <div id="flowchart-example1" style="margin-top: 20px; display: none; text-align: center;">
                        <div id="flowchart1" style="height: 300px;"></div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Advanced Flowchart Challenge <i class="fas fa-pencil-alt" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; text-align: left; margin-bottom: 20px;">Using Microsoft Whiteboard, draw a flowchart for this code:</p>
                    
                    <div class="code-block" style="text-align: left;">
<span class="highlight-variable">grade</span> <span class="highlight-operator">=</span> <span class="highlight-value">75</span>

<span class="highlight-variable">if</span> <span class="highlight-variable">grade</span> <span class="highlight-operator">>=</span> <span class="highlight-value">90</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"A grade"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">grade</span> <span class="highlight-operator">>=</span> <span class="highlight-value">80</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"B grade"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">elif</span> <span class="highlight-variable">grade</span> <span class="highlight-operator">>=</span> <span class="highlight-value">70</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"C grade"</span><span class="highlight-operator">)</span>
<span class="highlight-variable">else</span><span class="highlight-operator">:</span>
    <span class="highlight-variable">print</span><span class="highlight-operator">(</span><span class="highlight-value">"F grade"</span><span class="highlight-operator">)</span>
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button id="show-flowchart2" class="action-btn" onclick="toggleAnswer('flowchart-example2')">Show Example</button>
                    </div>
                    
                    <div id="flowchart-example2" style="margin-top: 20px; display: none; text-align: center;">
                        <div id="flowchart2" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Key Points <i class="fas fa-check-circle" style="margin-left: 10px;"></i></h3>
                
                <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 20px; margin-top: 25px;">
                    <h4 style="margin-top: 0;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i> What We've Learned Today</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> Conditional statements let our programs make decisions</li>
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> The <code>if</code> statement runs code only when its condition is True</li>
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> The <code>else</code> statement provides an alternative when the if condition is False</li>
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> The <code>elif</code> statement lets us check multiple conditions in sequence</li>
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> Python uses indentation to show which code belongs to each condition</li>
                        <li><i class="fas fa-check" style="margin-right: 12px; color: var(--good-color);"></i> Comparison operators like <code>==</code>, <code>></code>, and <code><</code> help us create conditions</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Shuffle function for randomising arrays
        function shuffle(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Page Configuration - All page-specific content lives here
        const pageConfig = {
            pageIdentifier: "python-conditionals",
            topic: {
                title: "Python Conditionals",
                sidebarTitle: "PYTHON CONDITIONALS"
            },
            primaryPlayground: {
                title: "Code Lab 1 Experiments",
                subtitle: "Master the fundamentals of if-else statements",
                icon: "fa-flask",
                initialCode: `age = 16\n\nif age >= 18:\n    print("You can vote!")\nelse:\n    print("You cannot vote yet.")`,
                buttonText: "Run Code",
                terminalReady: "Click 'Run Code' to execute your program...",
                storageKey: "primaryExperiments",
                parentTabId: "chew2"
            },
            secondaryPlayground: {
                title: "Code Lab 2 Experiments",
                subtitle: "Build complex decision-making programs",
                icon: "fa-flask",
                initialCode: `score = 85\n\nif score >= 90:\n    grade = "A"\nelif score >= 80:\n    grade = "B"\nelif score >= 70:\n    grade = "C"\nelse:\n    grade = "F"\n\nprint("Your grade is:", grade)`,
                buttonText: "Run Code",
                terminalReady: "Click 'Run Code' to see your program...",
                storageKey: "secondaryExperiments",
                parentTabId: "chew3"
            },
            experiments: {
                primary: {
                    title: "Code Lab 1 Experiments",
                    icon: "fa-flask",
                    experiments: [
                        {
                            id: "exp1",
                            title: "Run Original Code",
                            taskExplanation: "Execute the basic if-else statement to observe how decisions are made in code.",
                            detailedInstructions: [
                                "Examine the <code>if age >= 18:</code> structure.",
                                "Predict which message will be printed based on the age value.",
                                "Click 'Run Code' to verify your prediction."
                            ],
                            pattern: /if\s+\w+\s*(>=|<=|>|<|==|!=)\s*\d+\s*:\s*\n\s*print/
                        },
                        {
                            id: "exp2",
                            title: "Change the Age Value",
                            taskExplanation: "Modify the age variable to see how it affects which code path is taken.",
                            detailedInstructions: [
                                "Change the value of <code>age</code> to different numbers (e.g., 20, 15, 18).",
                                "Predict the output before running the code.",
                                "Notice how the same code produces different results based on the input."
                            ],
                            pattern: /age\s*=\s*(?!16\b)\d+/
                        },
                        {
                            id: "exp3",
                            title: "Change the Comparison",
                            taskExplanation: "Alter the comparison operator to create different decision criteria.",
                            detailedInstructions: [
                                "Change <code>>=</code> to a different operator like <code>></code>, <code>==</code>, or <code><</code>.",
                                "Observe how this affects when each message is displayed.",
                                "Try <code>age == 18</code> to see what happens for exactly 18."
                            ],
                            pattern: /if\s+\w+\s*(?!>=)(<|>|<=|==|!=)\s*\d+/
                        },
                        {
                            id: "exp4",
                            title: "Add More Conditions",
                            taskExplanation: "Create a more complex decision with multiple age ranges using elif.",
                            detailedInstructions: [
                                "Add an <code>elif</code> statement between the if and else.",
                                "For example: <code>elif age >= 16:</code> with a message about driving.",
                                "Make sure to indent the elif and its print statement properly."
                            ],
                            pattern: /elif\s+\w+\s*(>=|<=|>|<|==|!=)\s*\d+\s*:/
                        },
                        {
                            id: "exp5",
                            title: "Create Age Categories",
                            taskExplanation: "Build a complete age categorization system with multiple elif statements.",
                            detailedInstructions: [
                                "Create categories like child (< 13), teenager (13-17), adult (18-64), senior (65+).",
                                "Use multiple <code>elif</code> statements to handle each category.",
                                "Test with different ages to ensure all categories work correctly."
                            ],
                            pattern: /elif[\s\S]*elif[\s\S]*print/
                        },
                        {
                            id: "exp6",
                            title: "String Comparisons",
                            taskExplanation: "Practice with string conditions instead of numbers.",
                            detailedInstructions: [
                                "Create a variable like <code>name = \"Alice\"</code>.",
                                "Use string comparison: <code>if name == \"Alice\":</code>.",
                                "Try different string operators and multiple names with elif statements."
                            ],
                            pattern: /if\s+\w+\s*(==|!=)\s*["'][\w\s]+["']/
                        }
                    ]
                },
                secondary: {
                    title: "Code Lab 2 Experiments",
                    icon: "fa-flask",
                    experiments: [
                        {
                            id: "grade-exp1",
                            title: "Run Grading System",
                            taskExplanation: "Execute the grading system to see how multiple conditions work together.",
                            detailedInstructions: [
                                "Understand how each <code>elif</code> checks a different grade boundary.",
                                "Notice the order: highest grades are checked first.",
                                "Click 'Run Code' to see which grade the score receives."
                            ],
                            pattern: /if\s+\w+\s*>=\s*\d+[\s\S]*elif[\s\S]*elif[\s\S]*else/
                        },
                        {
                            id: "grade-exp2",
                            title: "Test Different Scores",
                            taskExplanation: "Modify the score value to see how it affects the grade assignment.",
                            detailedInstructions: [
                                "Change the <code>score</code> value to test different grades.",
                                "Try scores like 95, 88, 75, 65, and 45.",
                                "Verify that each score gets the correct grade."
                            ],
                            pattern: /score\s*=\s*(?!85\b)\d+/
                        },
                        {
                            id: "grade-exp3",
                            title: "Add Plus/Minus Grades",
                            taskExplanation: "Extend the system to include plus and minus grades (A+, B-, etc.).",
                            detailedInstructions: [
                                "Add more specific grade ranges like A+ (97+), A (90-96), A- (87-89).",
                                "Use additional <code>elif</code> statements for finer grade distinctions.",
                                "Remember to check higher values first in your conditions."
                            ],
                            pattern: /if\s+\w+\s*>=\s*9[7-9]|elif\s+\w+\s*>=\s*8[7-9]/
                        },
                        {
                            id: "grade-exp4",
                            title: "Add Grade Messages",
                            taskExplanation: "Include motivational or descriptive messages along with grades.",
                            detailedInstructions: [
                                "Modify each grade assignment to include a message.",
                                "Example: <code>grade = \"A - Excellent work!\"</code>.",
                                "Create unique, encouraging messages for each grade level."
                            ],
                            pattern: /grade\s*=\s*["'][A-F][\w\s\-!.]*["']/
                        },
                        {
                            id: "grade-exp5",
                            title: "Multiple Subject Grades",
                            taskExplanation: "Create a system that handles grades for multiple subjects.",
                            detailedInstructions: [
                                "Add variables for multiple subjects: <code>math_score</code>, <code>english_score</code>.",
                                "Create separate grading for each subject using if-elif-else blocks.",
                                "Calculate and display an overall average grade."
                            ],
                            pattern: /\w+_score\s*=\s*\d+[\s\S]*if\s+\w+_score/
                        },
                        {
                            id: "grade-exp6",
                            title: "Pass/Fail with Requirements",
                            taskExplanation: "Create a complex system with multiple requirements to pass.",
                            detailedInstructions: [
                                "Add requirements like minimum attendance and homework completion.",
                                "Use compound conditions: <code>if score >= 60 and attendance >= 80:</code>.",
                                "Create different pass/fail scenarios based on multiple criteria."
                            ],
                            pattern: /if\s+\w+[\s\S]*and\s+\w+|if\s+\w+[\s\S]*or\s+\w+/
                        }
                    ]
                }
            },
            quiz: {
                questions: [
                    {
                        type: "true-false",
                        question: "In Python, the 'else' statement requires a condition after it.",
                        correctAnswer: "false",
                        feedbackCorrect: "Correct! The 'else' statement doesn't need a condition - it runs when the 'if' condition is False.",
                        feedbackIncorrect: "Incorrect. The 'else' statement doesn't require a condition. It automatically runs when the 'if' condition is False."
                    },
                    {
                        type: "true-false",
                        question: "Python checks conditions in if-elif-else statements from top to bottom.",
                        correctAnswer: "true",
                        feedbackCorrect: "Correct! Python evaluates conditions in order from top to bottom and stops at the first True condition.",
                        feedbackIncorrect: "Incorrect. Python does check conditions from top to bottom and executes the first True condition it finds."
                    },
                    {
                        type: "true-false",
                        question: "You can have multiple 'elif' statements in a single conditional structure.",
                        correctAnswer: "true",
                        feedbackCorrect: "Correct! You can have as many 'elif' statements as you need to handle multiple conditions.",
                        feedbackIncorrect: "Incorrect. You can use multiple 'elif' statements to check various conditions in sequence."
                    },
                    {
                        type: "true-false",
                        question: "The comparison operator '=' checks if two values are equal.",
                        correctAnswer: "false",
                        feedbackCorrect: "Correct! Use '==' for comparison. Single '=' is for assignment, not comparison.",
                        feedbackIncorrect: "Incorrect. Single '=' is for assignment. Use '==' to check if two values are equal."
                    }
                ]
            },
            tours: {
                "exp1": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸš€ Run Basic If-Else", text: `<p>Let's run this if-else statement to see how Python makes decisions.</p><p>The code checks if someone is old enough to vote!</p>`, buttons: [{ text: "Next", action: "next" }] },
                        { title: "â–¶ï¸ Click Run Code", text: `<p>Click the 'Run Code' button to execute the conditional statement.</p><p>Watch which message gets printed!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Got It!", action: "complete" }] }
                    ]
                },
                "exp2": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ”¢ Change Age Value", text: `<p>The age variable determines which message is printed.</p><p>Try changing <code>age = 16</code> to different values like 20, 15, or 18.</p>`, attachTo: { element: ".coding-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸ§ª Test Different Ages", text: `<p>Change the age and run the code multiple times.</p><p>Notice how the same code produces different outputs based on the age value!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                },
                "exp3": {
                    useModalOverlay: false,
                    steps: [
                        { title: "âš–ï¸ Change Comparison Operator", text: `<p>The <code>>=</code> operator means "greater than or equal to".</p><p>Try changing it to <code>></code>, <code>==</code>, <code><</code>, or other operators.</p>`, attachTo: { element: ".coding-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸ” Observe the Difference", text: `<p>Run the code with different operators to see how they change the behavior.</p><p>For example, <code>age == 18</code> only works for exactly 18!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Done!", action: "complete" }] }
                    ]
                },
                "exp4": {
                    useModalOverlay: false,
                    steps: [
                        { title: "âž• Add elif Statement", text: `<p>Add an <code>elif</code> between the if and else to handle another condition.</p><p>Try: <code>elif age >= 16:</code> with a message about driving.</p>`, attachTo: { element: ".coding-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸš— Test the New Condition", text: `<p>Run the code with different ages to see when each message appears.</p><p>Make sure your elif statement is properly indented!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                },
                "exp5": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ“Š Create Age Categories", text: `<p>Build a complete age categorization system.</p><p>Use multiple elif statements for child, teenager, adult, and senior categories.</p>`, attachTo: { element: ".coding-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸ§ª Test All Categories", text: `<p>Test with different ages to make sure all categories work correctly.</p><p>Remember: Python checks conditions from top to bottom!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Done!", action: "complete" }] }
                    ]
                },
                "exp6": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ“ String Comparisons", text: `<p>Try using strings instead of numbers!</p><p>Create a variable like <code>name = "Alice"</code> and use <code>if name == "Alice":</code>.</p>`, attachTo: { element: ".coding-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸ”¤ Test String Conditions", text: `<p>Try different names and comparison operators.</p><p>Remember: strings are case-sensitive in Python!</p>`, attachTo: { element: "#run-primary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                },
                "grade-exp1": {
                    useModalOverlay: true,
                    steps: [
                        { title: "ðŸŽ“ Grading System", text: `<p>This code assigns letter grades based on numerical scores.</p><p>Notice how it checks the highest grades first, then works down.</p>`, buttons: [{ text: "Next", action: "next" }] },
                        { title: "â–¶ï¸ See the Grade", text: `<p>Click 'Run Code' to see what grade the score receives!</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Done!", action: "complete" }] }
                    ]
                },
                "grade-exp2": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ“Š Test Different Scores", text: `<p>Change the score value to test different grades.</p><p>Try scores like 95, 88, 75, 65, and 45 to see all grades.</p>`, attachTo: { element: ".secondary-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "âœ… Verify Grades", text: `<p>Run the code with each score to verify correct grading.</p><p>Make sure each score gets the expected grade!</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                },
                "grade-exp3": {
                    useModalOverlay: false,
                    steps: [
                        { title: "â­ Add Plus/Minus Grades", text: `<p>Add more specific grade ranges for A+, A-, B+, B-, etc.</p><p>Remember to check higher values first in your conditions!</p>`, attachTo: { element: ".secondary-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸŽ¯ Test Precision", text: `<p>Test your expanded grading system with various scores.</p><p>Make sure the grade boundaries work correctly!</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Done!", action: "complete" }] }
                    ]
                },
                "grade-exp4": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ’¬ Add Motivational Messages", text: `<p>Include encouraging messages with each grade.</p><p>Example: <code>grade = "A - Excellent work!"</code></p>`, attachTo: { element: ".secondary-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸŽ‰ See the Messages", text: `<p>Run the code to see your motivational messages in action!</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                },
                "grade-exp5": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ“š Multiple Subjects", text: `<p>Create variables for multiple subjects like math_score and english_score.</p><p>Grade each subject separately and calculate an average.</p>`, attachTo: { element: ".secondary-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "ðŸ§® Calculate Average", text: `<p>Test your multi-subject grading system!</p><p>Make sure both individual and average grades work correctly.</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Done!", action: "complete" }] }
                    ]
                },
                "grade-exp6": {
                    useModalOverlay: false,
                    steps: [
                        { title: "ðŸ“‹ Multiple Requirements", text: `<p>Add requirements like attendance and homework completion.</p><p>Use compound conditions with <code>and</code> or <code>or</code> operators.</p>`, attachTo: { element: ".secondary-playground .code-panel", on: "right" }, buttons: [{ text: "Next", action: "next" }] },
                        { title: "âœ… Test Requirements", text: `<p>Test different combinations to ensure your pass/fail logic works correctly!</p>`, attachTo: { element: "#run-secondary-btn", on: "top" }, buttons: [{ text: "Complete!", action: "complete" }] }
                    ]
                }
            }
        };

        // Define improved flowchart code for if-else with better layout
        const ifElseFlowchartCode = `
st=>start: Start
cond=>condition: Condition
True or False?
if_block=>operation: Run 'if' code block
else_block=>operation: Run 'else' code block
end=>end: Continue program

st->cond
cond(yes, right)->if_block->end
cond(no, bottom)->else_block(right)->end
`;

        // Define improved flowchart code for if-elif-else with better layout
        const ifElifElseFlowchartCode = `
st=>start: Start
init=>operation: grade = 75
cond1=>condition: grade >= 90?
cond2=>condition: grade >= 80?
cond3=>condition: grade >= 70?
op1=>operation: Print "A grade"
op2=>operation: Print "B grade"
op3=>operation: Print "C grade"
op4=>operation: Print "F grade"
end=>end: End

st->init->cond1
cond1(yes, right)->op1->end
cond1(no, bottom)->cond2
cond2(yes, right)->op2->end
cond2(no, bottom)->cond3
cond3(yes, right)->op3->end
cond3(no, bottom)->op4(right)->end
`;

        // Function to check condition answers using the unified BucklesSystem
        function checkConditionAnswer(questionNumber, answer, sectionIdentifier) {
            const answerElement = document.getElementById(`condition-answer${questionNumber}`);
            const activityId = `condition_question_${questionNumber}`;
            let isCorrect = false;
            let feedback = '';

            // Set correct answers for each question
            const correctAnswers = {
                1: true,  // 5 + 5 == 10 is true
                2: false, // 7 < 3 is false
                3: true,  // 10 <= 10 is true
                4: false, // "Hello" == "hello" is false
                5: true,  // 20 != 15 is true
                6: false  // 5 * 2 >= 12 is false (10 >= 12)
            };

            // Check if this is the first attempt
            const isFirstAttempt = !BucklesSystem.isActivityAttempted(sectionIdentifier, activityId);
            
            // Mark as attempted
            if (isFirstAttempt) {
                BucklesSystem.markActivityAttempted(sectionIdentifier, activityId);
            }

            // Check if the answer is correct
            isCorrect = (answer === correctAnswers[questionNumber]);

            // Prepare feedback message
            if (isCorrect) {
                feedback = `<span style="color: #52c41a;"><i class="fas fa-check-circle"></i> Correct!</span> That's right.`;
                
                // Award a buckle using the unified buckles system (only on first attempt)
                if (isFirstAttempt && !BucklesSystem.isActivityCompleted(sectionIdentifier, activityId)) {
                    BucklesSystem.awardBuckles(sectionIdentifier, activityId);
                }
            } else {
                feedback = `<span style="color: #ff4d4f;"><i class="fas fa-times-circle"></i> Incorrect.</span> Try again.`;
            }

            // Display feedback
            answerElement.innerHTML = feedback;
            answerElement.style.display = 'block';

            // Disable buttons to prevent multiple submissions if correct
            if (isCorrect) {
                const trueBtn = document.querySelectorAll(`.true-btn`)[questionNumber - 1];
                const falseBtn = document.querySelectorAll(`.false-btn`)[questionNumber - 1];
                
                if (trueBtn && falseBtn) {
                    trueBtn.disabled = true;
                    falseBtn.disabled = true;
                }
            }
        }

        // Function to check multiple choice answers using the unified BucklesSystem
        function checkMultipleChoice(questionNumber, answer, sectionIdentifier) {
            const feedbackElement = document.getElementById(`feedback-q${questionNumber}`);
            const activityId = `quiz_question_${questionNumber}`;
            let correctAnswer = '';
            let isCorrect = false;
            
            // Set correct answers for each question
            switch(questionNumber) {
                case 1: correctAnswer = 'D'; break; // No need for umbrella, not too hot
                case 2: correctAnswer = 'B'; break; // 12 - 2 = 10
                case 3: correctAnswer = 'B'; break; // Score 85 is >= 80 so "Very good!"
                // Add more cases as needed
            }
            
            // Check if this is the first attempt
            const isFirstAttempt = !BucklesSystem.isActivityAttempted(sectionIdentifier, activityId);
            
            // Mark as attempted
            if (isFirstAttempt) {
                BucklesSystem.markActivityAttempted(sectionIdentifier, activityId);
            }
            
            // Check if answer is correct
            isCorrect = (answer === correctAnswer);
            
            // Style all choices to show the correct answer
            document.querySelectorAll(`.choice`).forEach(choice => {
                const choiceLetter = choice.querySelector('.choice-letter').textContent;
                if (choiceLetter === correctAnswer) {
                    choice.classList.add('correct-choice');
                } else {
                    choice.classList.remove('correct-choice');
                }
                choice.classList.remove('selected-choice');
            });
            
            // Style selected choice
            let selectedChoice = null;
            document.querySelectorAll('.choice').forEach(choice => {
                const letter = choice.querySelector('.choice-letter');
                if (letter && letter.textContent === answer) {
                    selectedChoice = choice;
                }
            });
            if (selectedChoice) {
                selectedChoice.classList.add('selected-choice');
            }
            
            // Prepare feedback
            let feedback = '';
            if (isCorrect) {
                feedback = `<div class="feedback-correct"><i class="fas fa-check-circle"></i> Correct! Well done.</div>`;
                
                // Award buckles if first attempt and not already completed
                if (isFirstAttempt && !BucklesSystem.isActivityCompleted(sectionIdentifier, activityId)) {
                    // Award 2 buckles for quiz questions
                    BucklesSystem.awardBuckles(sectionIdentifier, activityId, 2);
                }
            } else {
                feedback = `<div class="feedback-incorrect"><i class="fas fa-times-circle"></i> Incorrect. The correct answer is ${correctAnswer}.</div>`;
            }
            
            // Show feedback
            feedbackElement.innerHTML = feedback;
            feedbackElement.style.display = 'block';
            
            // Disable further selections if correct
            if (isCorrect) {
                document.querySelectorAll(`.choice`).forEach(choice => {
                    choice.style.pointerEvents = 'none';
                });
            }
        }

        // Conditional step by step navigation
        let currentConditionalStep = 1;
        const totalConditionalSteps = 3;
        
        function nextConditionalStep() {
            if (currentConditionalStep < totalConditionalSteps) {
                // Hide current step
                document.getElementById(`conditional-step-${currentConditionalStep}`).classList.remove('active');
                
                // Show next step
                currentConditionalStep++;
                document.getElementById(`conditional-step-${currentConditionalStep}`).classList.add('active');
                
                // Update indicator and buttons
                document.getElementById('conditional-indicator').textContent = `Step ${currentConditionalStep} of ${totalConditionalSteps}`;
                document.getElementById('prev-conditional-btn').disabled = false;
                
                if (currentConditionalStep === totalConditionalSteps) {
                    document.getElementById('next-conditional-btn').disabled = true;
                }
            }
        }
        
        function prevConditionalStep() {
            if (currentConditionalStep > 1) {
                // Hide current step
                document.getElementById(`conditional-step-${currentConditionalStep}`).classList.remove('active');
                
                // Show previous step
                currentConditionalStep--;
                document.getElementById(`conditional-step-${currentConditionalStep}`).classList.add('active');
                
                // Update indicator and buttons
                document.getElementById('conditional-indicator').textContent = `Step ${currentConditionalStep} of ${totalConditionalSteps}`;
                document.getElementById('next-conditional-btn').disabled = false;
                
                if (currentConditionalStep === 1) {
                    document.getElementById('prev-conditional-btn').disabled = true;
                }
            }
        }
        
        // Pass/Fail Interactive Demo
        function changeScore(amount) {
            const scoreElement = document.getElementById('test-score');
            const codeScoreElement = document.getElementById('code-score');
            const gradeOutputElement = document.getElementById('grade-output');
            
            let score = parseInt(scoreElement.innerText);
            score += amount;
            
            // Keep score between 0 and 100
            if (score < 0) score = 0;
            if (score > 100) score = 100;
            
            // Update displayed score
            scoreElement.innerText = score;
            codeScoreElement.innerText = score;
            
            // Update grade
            let result = '';
            if (score >= 60) {
                result = 'Pass';
                gradeOutputElement.style.color = '#52c41a';
            } else {
                result = 'Fail';
                gradeOutputElement.style.color = '#ff4d4f';
            }
            
            gradeOutputElement.innerText = result;
        }
        
        // Weather App Interactive Demo
        function changeTemperature(amount) {
            const tempElement = document.getElementById('weather-temp');
            const codeTempElement = document.getElementById('code-temp');
            const clothingOutputElement = document.getElementById('clothing-output');
            
            let temp = parseInt(tempElement.innerText);
            temp += amount;
            
            // Keep temperature in a reasonable range
            if (temp < -10) temp = -10;
            if (temp > 40) temp = 40;
            
            // Update displayed temperature
            tempElement.innerText = temp;
            codeTempElement.innerText = temp;
            
            // Update clothing recommendation
            let clothing = '';
            if (temp > 25) {
                clothing = 'T-shirt and shorts';
                clothingOutputElement.style.color = '#fa8c16';
            } else if (temp > 15) {
                clothing = 'Light jacket';
                clothingOutputElement.style.color = '#52c41a';
            } else if (temp > 5) {
                clothing = 'Warm coat';
                clothingOutputElement.style.color = '#1890ff';
            } else {
                clothing = 'Heavy winter coat and hat';
                clothingOutputElement.style.color = '#722ed1';
            }
            
            clothingOutputElement.innerText = clothing;
        }
        
        // Function to render flowcharts with improved styling
        function renderFlowchart(containerId, code) {
            try {
                const diagram = flowchart.parse(code);
                
                // Clear any existing content
                const container = document.getElementById(containerId);
                if (container) {
                    container.innerHTML = '';
                    
                    // Get container width to scale appropriately
                    const containerWidth = container.offsetWidth || 600;
                    const scale = containerWidth > 500 ? 1.0 : containerWidth / 500;
                    
                    diagram.drawSVG(containerId, {
                        'line-width': 2,
                        'line-length': 50,
                        'text-margin': 10,
                        'font-size': 14,
                        'font-color': '#333',
                        'line-color': '#002654',
                        'element-color': '#002654',
                        'fill': 'white',
                        'yes-text': 'True',
                        'no-text': 'False',
                        'arrow-end': 'block',
                        'scale': scale,
                        'flowstate': {
                            'past': { 'fill': '#CFCFCF', 'font-size': 12 },
                            'current': { 'fill': '#008489', 'font-color': 'white', 'font-weight': 'bold' },
                            'future': { 'fill': '#FFFF99' },
                            'request': { 'fill': '#999999' },
                            'invalid': { 'fill': '#FFCCCC' },
                            'approved': { 'fill': '#CCFFCC', 'font-color': '#006600', 'border-color': '#006600' },
                            'rejected': { 'fill': '#FFCCCC', 'font-color': '#CC0000', 'border-color': '#CC0000' }
                        },
                        'symbols': {
                            'start': {
                                'font-color': 'green',
                                'element-color': '#002654',
                                'fill': '#002654'
                            },
                            'end': {
                                'font-color': 'red',
                                'element-color': '#002654',
                                'fill': '#002654'
                            },
                            'condition': {
                                'element-color': '#002654',
                                'fill': 'white'
                            },
                            'operation': {
                                'element-color': '#002654',
                                'fill': 'white'
                            }
                        }
                    });
                    
                    // Ensure SVG fits container height
                    const svg = container.querySelector('svg');
                    if (svg) {
                        svg.style.maxWidth = '100%';
                        svg.style.height = '100%';
                        svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
                    }
                }
            } catch (error) {
                console.error('Error rendering flowchart:', error);
                document.getElementById(containerId).innerHTML = 
                    '<div style="color:red; padding:20px;">Error rendering flowchart. Please check the console for details.</div>';
            }
        }
        
        // Toggle answer visibility with improved flowchart handling
        function toggleAnswer(id) {
            const element = document.getElementById(id);
            if (element.style.display === 'none') {
                element.style.display = 'block';
                
                // If it's a flowchart example, render it with a delay to ensure container is ready
                if (id === 'flowchart-example1') {
                    setTimeout(function() {
                        document.getElementById('flowchart1').innerHTML = '';
                        renderFlowchart('flowchart1', ifElseFlowchartCode);
                    }, 100);
                } else if (id === 'flowchart-example2') {
                    setTimeout(function() {
                        document.getElementById('flowchart2').innerHTML = '';
                        renderFlowchart('flowchart2', ifElifElseFlowchartCode);
                    }, 100);
                }
            } else {
                element.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            if (typeof EducationalEditor !== 'undefined') {
                EducationalEditor.initialize(pageConfig);
            } else {
                console.error('editor.js not loaded - Educational system cannot initialize');
            }
            
            // Create buckle counters for each section using the unified system
            BucklesSystem.createBuckleCounter('buckle-container', 'absolute');
            BucklesSystem.createBuckleCounter('quiz-buckle-container', 'absolute');
            
            // Tab switching
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    const tab = this.getAttribute('data-tab');
                    
                    // Remove active class from all buttons and tabs
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to selected button and tab
                    this.classList.add('active');
                    document.getElementById(tab).classList.add('active');

                    // Redraw flowcharts when switching to chunk2
                    if (tab === 'chunk2') {
                        setTimeout(() => {
                            const flowchartContainer = document.getElementById('if-else-flowchart');
                            if (flowchartContainer) {
                                flowchartContainer.innerHTML = '';
                                renderFlowchart('if-else-flowchart', ifElseFlowchartCode);
                            }
                        }, 200);
                    }
                });
            });
            
            // Initialize conditional steps
            const step1 = document.getElementById('conditional-step-1');
            const step2 = document.getElementById('conditional-step-2');
            const step3 = document.getElementById('conditional-step-3');
            const prevBtn = document.getElementById('prev-conditional-btn');
            const nextBtn = document.getElementById('next-conditional-btn');
            
            if (step1) step1.classList.add('active');
            if (step2) step2.classList.remove('active');
            if (step3) step3.classList.remove('active');
            if (prevBtn) prevBtn.disabled = true;
            if (nextBtn) nextBtn.disabled = false;
            
            // Render the if-else flowchart with longer delay to ensure container is ready
            setTimeout(() => {
                const flowchartContainer = document.getElementById('if-else-flowchart');
                if (flowchartContainer && typeof flowchart !== 'undefined') {
                    renderFlowchart('if-else-flowchart', ifElseFlowchartCode);
                } else {
                    console.warn('Flowchart container not found or flowchart library not loaded');
                }
            }, 500);
        });
    </script>
</body>
</html>