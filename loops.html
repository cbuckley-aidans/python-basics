<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python For Loops</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/inter-ui/3.19.3/inter.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- External Dependencies -->
    <script src="buckles.js"></script>
    <script src="quiz.js"></script>
    <script src="https://skulpt.org/js/skulpt.min.js"></script>
    <script src="https://skulpt.org/js/skulpt-stdlib.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@11.0.1/dist/js/shepherd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@11.0.1/dist/css/shepherd.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Modular Editor System -->
    <script src="editor.js"></script>
    
    <!-- Favicon Icons -->
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    
    <!-- Enhanced Tour Styling -->
    <style>
        /* Improved Shepherd tour styling */
        .shepherd-element {
            max-width: 400px;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .shepherd-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 16px 20px;
            border-bottom: none;
        }
        
        .shepherd-title {
            color: white !important;
            font-weight: 600;
            font-size: 1.1em;
            margin: 0;
        }
        
        .shepherd-content {
            padding: 20px;
            background: white;
        }
        
        .shepherd-text {
            color: #2c3e50;
            line-height: 1.5;
            margin: 0;
        }
        
        .shepherd-text p {
            margin-bottom: 12px;
        }
        
        .shepherd-text p:last-child {
            margin-bottom: 0;
        }
        
        .shepherd-footer {
            padding: 16px 20px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            text-align: right;
        }
        
        .shepherd-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .shepherd-button:hover {
            background: #2980b9;
        }
        
        .shepherd-button-secondary {
            background: #95a5a6;
            margin-right: 8px;
        }
        
        .shepherd-button-secondary:hover {
            background: #7f8c8d;
        }
        
        .shepherd-cancel-icon {
            color: white;
            font-size: 18px;
            opacity: 0.8;
        }
        
        .shepherd-cancel-icon:hover {
            opacity: 1;
        }
        
        /* Code highlighting in tour */
        .shepherd-text code {
            background: #f1f2f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e74c3c;
            font-size: 0.9em;
        }
        
        .shepherd-text div[style*="background"] {
            background: #f8f9fa !important;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        /* styles.css or in your <style> block in index.html */
.loop-comparison-grid {
    align-items: flex-start; /* Align columns at the top */
}

.loop-comparison-column {
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #e9e9e9;
    display: flex;
    flex-direction: column;
    height: 100%; /* Make columns equal height if desired, works with align-items: stretch on parent */
}

.loop-comparison-title {
    text-align: center;
    font-size: 1.1em;
    font-weight: 600;
    margin-top: 0;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid;
    display: flex;
    align-items: center;
    justify-content: center;
}
.loop-comparison-title i {
    margin-right: 8px;
    font-size: 1.2em;
}
.loop-comparison-title .emoji {
    margin-left: 8px;
    font-size: 1.2em;
}

.loop-comparison-title.bad {
    color: var(--bad-color, #e74c3c); /* Define --bad-color or use hex */
    border-bottom-color: var(--bad-color, #e74c3c);
}
.loop-comparison-title.good {
    color: var(--good-color, #2ecc71); /* Define --good-color or use hex */
    border-bottom-color: var(--good-color, #2ecc71);
}

.loop-comparison-column .code-block {
    margin-bottom: 15px !important; /* Override inline style if needed */
    flex-grow: 1; /* Allow code block to take available space */
}

.loop-comparison-caption {
    text-align: center;
    font-style: italic;
    font-size: 0.9em;
    line-height: 1.4;
    margin-top: auto; /* Push caption to the bottom */
    padding-top: 10px;
}
.loop-comparison-caption.bad {
    color: var(--bad-color, #e74c3c);
}
.loop-comparison-caption.good {
    color: var(--good-color, #2ecc71);
}

/* Define these if not already defined */
:root {
    --bad-color: #e74c3c;
    --good-color: #2ecc71;
}
    </style>
</head>
<body>
    <!-- Experiment Panels (populated by editor.js) -->
    <div id="experiments-container"></div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" style="overflow-y: auto; overflow-x: hidden;">
        <div class="sidebar-logo">PYTHON FOR LOOPS</div>
        <a href="index.html" class="home-button">
            <i class="fas fa-home"></i>
            HOME
        </a>
        <div class="sidebar-nav">
            <button class="tab-button active" data-tab="lisc">
                <i class="fas fa-clipboard-list"></i>
                LI/SC
            </button>
            <button class="tab-button" data-tab="chunk1">
                <i class="fas fa-cube"></i>
                CHUNK 1
            </button>
            <button class="tab-button" data-tab="chew1">
                <i class="fas fa-utensils"></i>
                CHEW 1
            </button>
            <button class="tab-button" data-tab="chunk2">
                <i class="fas fa-cube"></i>
                CHUNK 2
            </button>
            <button class="tab-button" data-tab="chew2">
                <i class="fas fa-utensils"></i>
                CHEW 2
            </button>
            <button class="tab-button" data-tab="chunk3">
                <i class="fas fa-cube"></i>
                CHUNK 3
            </button>
            <button class="tab-button" data-tab="chew3">
                <i class="fas fa-utensils"></i>
                CHEW 3
            </button>
            <button class="tab-button" data-tab="recap">
                <i class="fas fa-bookmark"></i>
                RECAP
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Learning Intentions and Success Criteria section -->
        <section id="lisc" class="tab-content active light-section">
            <h1>LEARNING INTENTIONS & SUCCESS CRITERIA <i class="fas fa-bullseye" style="margin-left: 15px;"></i></h1>
            
            <div class="card">
                <div class="element-header" style="margin: -35px -40px 30px -40px; padding: 25px 35px;">
                    <div class="element-number">1</div>
                    <h3>Learning Intentions <i class="fas fa-bullseye" style="margin-left: 15px; color: var(--accent-color);"></i></h3>
                </div>
                
                <ul>
                    <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 12px;"></i> Understand what loops are and why they're useful in programming</li>
                    <li><i class="fas fa-check-circle" style="color: var(--accent-color); margin-right: 12px;"></i> Learn how to create for loops using the range() function</li>
                </ul>
            </div>
            
            <div class="card">
                <div class="element-header" style="margin: -35px -40px 30px -40px; padding: 25px 35px;">
                    <div class="element-number">2</div>
                    <h3>Success Criteria <i class="fas fa-trophy" style="margin-left: 15px; color: var(--accent-color);"></i></h3>
                </div>
                
                <p>By the end of this lesson, you should be able to:</p>
                
                <ul>
                    <li><i class="fas fa-star" style="color: var(--accent-color); margin-right: 12px;"></i> Write a basic for loop that repeats code a specific number of times</li>
                    <li><i class="fas fa-star" style="color: var(--accent-color); margin-right: 12px;"></i> Use the loop variable in calculations and operations</li>
                </ul>
            </div>
        </section>

        <!-- RECAP: Summary -->
        <section id="recap" class="tab-content dark-section">
            <h1>RECAP: FOR LOOPS SUMMARY <i class="fas fa-bookmark" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">REVIEW SECTION</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 5 mins</div>
                
                <h3>Quick Reference Guide</h3>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Loops Are Everywhere! <i class="fas fa-sync" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="elements-grid" style="margin-top: 0;">
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-music" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Songs on Repeat</h4>
                                <p>Repetitive patterns in music</p>
                            </div>
                        </div>
                        
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-leaf" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Nature's Patterns</h4>
                                <p>Spirals, fractals, and cycles</p>
                            </div>
                        </div>
                        
                        <div class="icon-box">
                            <div class="icon-container">
                                <i class="fas fa-running" style="color: var(--accent-color);"></i>
                            </div>
                            <div class="icon-text">
                                <h4>Exercise Routines</h4>
                                <p>Repeating sets and reps</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Understanding range() <i class="fas fa-chart-line" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h4 style="color: var(--accent-color); margin-bottom: 15px;">What range() Creates:</h4>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin: 20px 0;">
                            <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                                <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">range(5)</div>
                                <p style="margin: 0; font-size: 0.9em;">0, 1, 2, 3, 4</p>
                            </div>
                            <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                                <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">range(2, 7)</div>
                                <p style="margin: 0; font-size: 0.9em;">2, 3, 4, 5, 6</p>
                            </div>
                            <div style="background: rgba(0, 38, 84, 0.1); padding: 15px; border-radius: var(--border-radius); text-align: center;">
                                <div class="code-block" style="font-size: 0.8em; margin-bottom: 10px;">range(0, 10, 2)</div>
                                <p style="margin: 0; font-size: 0.9em;">0, 2, 4, 6, 8</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Essential Loop Syntax <i class="fas fa-code" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="two-column-grid" style="margin: 0; gap: 20px;">
                        <div>
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">Basic Loop</h4>
                            <div class="code-block" style="font-size: 0.9em; margin-bottom: 15px;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">5</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #50FA7B;">i</span>)
                            </div>
                            
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">Star Patterns</h4>
                            <div class="code-block" style="font-size: 0.9em;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">6</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"*"</span> * <span style="color: #50FA7B;">i</span>)
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">With Custom Start/End</h4>
                            <div class="code-block" style="font-size: 0.9em; margin-bottom: 15px;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">num</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">10</span>, <span style="color: #AE81FF;">21</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"Count: "</span>, <span style="color: #50FA7B;">num</span>)
                            </div>
                            
                            <h4 style="color: var(--accent-color); margin-bottom: 15px;">With Step Parameter</h4>
                            <div class="code-block" style="font-size: 0.9em;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">0</span>, <span style="color: #AE81FF;">20</span>, <span style="color: #AE81FF;">3</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"Skip by 3: "</span>, <span style="color: #50FA7B;">i</span>)
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="background: linear-gradient(135deg, rgba(0, 38, 84, 0.1), rgba(52, 152, 219, 0.1)); border-radius: var(--border-radius); padding: 30px; margin-top: 30px; text-align: center; border: 2px solid var(--accent-color);">
                    <div style="font-size: 3em; margin-bottom: 15px;">ðŸŽ“</div>
                    <h4 style="color: var(--accent-color); margin-bottom: 15px; font-size: 1.3em;">You've Mastered Python For Loops!</h4>
                    <p style="margin-bottom: 0; font-size: 1.1em; color: var(--text-color);">You can now create efficient, repetitive code and recognise loop patterns everywhere around you.</p>
                </div>
            </div>
        </section>

        <!-- CHUNK 1: What are Loops? -->
        <section id="chunk1" class="tab-content dark-section">
            <h1>CHUNK 1: WHAT ARE LOOPS? <i class="fas fa-sync" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 5 mins</div>
                
                <h3>Loops: When You Need to Repeat Tasks</h3>
                
                <p>A loop is a way to repeat a section of code multiple times without having to write the same code over and over again. Loops are one of the most powerful and time-saving features in programming!</p>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Real-World Loop Examples <i class="fas fa-redo" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="variable-animation" style="padding: 30px;">
                        <p style="text-align: center; font-weight: bold; font-size: 1.2em; margin-bottom: 25px;">Loops are all around us in daily life:</p>
                        
                        <div class="elements-grid" style="margin-top: 0;">
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-music"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Songs on Repeat</h4>
                                    <p>Listening to a playlist of songs over and over</p>
                                </div>
                            </div>
                            
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-utensils"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Following a Recipe</h4>
                                    <p>Stirring 30 times or adding ingredients one by one</p>
                                </div>
                            </div>
                            
                            <div class="icon-box">
                                <div class="icon-container">
                                    <i class="fas fa-running"></i>
                                </div>
                                <div class="icon-text">
                                    <h4>Exercise Routines</h4>
                                    <p>Doing 20 jumping jacks or 3 sets of push-ups</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Why Use Loops? <i class="fas fa-question-circle" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.1em; text-align: center; font-weight: 500; margin-bottom: 25px;">Imagine you need to print numbers from 1 to 10. How would you do it?</p>
                    
                    <div class="two-column-grid loop-comparison-grid" style="margin: 0; gap: 25px;">
                      <div class="loop-comparison-column">
                          <h4 class="loop-comparison-title bad"><i class="fas fa-times-circle"></i> Without Loops <span class="emoji">ðŸ˜«</span></h4>
                          <div class="code-block" style="margin: 0; padding: 15px; max-height: 280px; font-size: 0.85em;">
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">1</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">2</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">3</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">4</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">5</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">6</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">7</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">8</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">9</span>)
<span style="color: #66D9EF;">print</span>(<span style="color: #AE81FF;">10</span>)
                          </div>
                          <p class="loop-comparison-caption bad">10 separate lines of code! Imagine doing this for 100 numbers. <span class="emoji">ðŸ˜±</span></p>
                      </div>
                      
                      <div class="loop-comparison-column">
                          <h4 class="loop-comparison-title good"><i class="fas fa-check-circle"></i> With a For Loop <span class="emoji">ðŸ˜Ž</span></h4>
                          <div class="code-block" style="margin: 0; padding: 15px; font-size: 0.85em;">
<span style="color: #F92672;">for</span> number <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">11</span>):
    <span style="color: #66D9EF;">print</span>(number)
                          </div>
                          <p class="loop-comparison-caption good">Just 2 lines of concise code! Much more efficient and readable. <span class="emoji">ðŸš€</span></p>
                      </div>
                  </div>
                    
                    <div style="background-color: rgba(0,0,0,0.03); border-radius: var(--border-radius); padding: 20px; margin-top: 30px; border-left: 4px solid var(--accent-color);">
                        <p style="margin: 0; font-size: 1.05em;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i><strong>Key Takeaway:</strong> Loops drastically reduce repetitive code, making your programs shorter, easier to understand, and simpler to modify. This is a fundamental concept in efficient programming!</p>
                    </div>
                </div>
                
                <!-- Types of Loops Section -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">3</div>
                        <h3>Types of Loops in Python <i class="fas fa-code-branch" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="elements-grid" style="margin-top: 0;">
                        <div class="interactive-card" style="border-left: 4px solid var(--accent-color);">
                            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                                <div style="background-color: rgba(0, 38, 84, 0.1); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                                    <i class="fas fa-list-ol" style="font-size: 1.5em; color: var(--accent-color);"></i>
                                </div>
                                <h4 style="margin: 0; font-size: 1.2em;">FOR LOOPS</h4>
                            </div>
                            <p>Used when you know exactly how many times you want to repeat something</p>
                            <div class="code-block" style="font-size: 0.9em;">
for i in range(5):
    print("Hello!")
                            </div>
                            <p><strong>Focus of today's lesson!</strong></p>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid #6b7280; opacity: 0.7;">
                            <div style="display: flex; align-items: center; margin-bottom: 15px;">
                                <div style="background-color: rgba(107, 114, 128, 0.1); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
                                    <i class="fas fa-question" style="font-size: 1.5em; color: #6b7280;"></i>
                                </div>
                                <h4 style="margin: 0; font-size: 1.2em;">WHILE LOOPS</h4>
                            </div>
                            <p>Used when you want to repeat until a certain condition is met</p>
                            <div class="code-block" style="font-size: 0.9em;">
while temperature > 100:
    temperature = temperature - 5
                            </div>
                            <p><em>We'll learn about these in a future lesson</em></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHEW 1: Concept Check -->
        <section id="chew1" class="tab-content light-section">
            <h1>CHEW 1: CONCEPT CHECK <i class="fas fa-clipboard-check" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 5 mins</div>
                
                <h3>Check Your Understanding</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Think about what loops are and why they're useful</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Share your ideas with a partner</li>
                    </ul>
                </div>
                
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <h3>Think-Pair-Share <i class="fas fa-users" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="background-color: rgba(16, 185, 129, 0.1); border-radius: var(--border-radius); padding: 25px; margin-bottom: 25px; text-align: center;">
                        <p style="font-size: 1.3em; font-weight: 600; margin-bottom: 15px;">Discuss these questions with your partner:</p>
                        <div style="text-align: left; font-size: 1.2em; padding: 10px 20px; background-color: white; border-radius: var(--border-radius); border: 2px solid var(--chew-color);">
                            <p style="margin: 15px 0;"><span style="font-weight: 600; color: var(--chew-color);">1.</span> How would you explain what a loop is to a friend?</p>
                            <p style="margin: 15px 0;"><span style="font-weight: 600; color: var(--chew-color);">2.</span> What daily activities do you perform that use loops or repetition?</p>
                            <p style="margin: 15px 0;"><span style="font-weight: 600; color: var(--chew-color);">3.</span> Why are loops useful in programming?</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quiz container populated by editor.js -->
                <div id="quiz-container" class="duolingo-container"></div>
                
            </div>
        </section>

        <!-- CHUNK 2: Understanding For Loops -->
        <section id="chunk2" class="tab-content dark-section">
            <h1>CHUNK 2: UNDERSTANDING FOR LOOPS <i class="fas fa-list-ol" style="margin-left: 15px;"></i></h1>

            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 10 mins</div>

                <h3>The For Loop: Python's Repeating Machine</h3>

                <p>A <strong>for loop</strong> is a Python statement that lets you run a block of code repeatedly for a specific number of times. It's perfect when you know exactly how many repetitions you need. Think of it like an assembly line in a factory: each item (or number, in our case) goes through the same set of operations.</p>
                <p>To control how many times the loop runs and what values it works with, Python's <code>for</code> loop often uses the built-in <code>range()</code> function. </p>
                
                
                <!-- Combined and Improved Range Section -->
<div class="interactive-card" style="margin-top: 30px;">
    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
        <h3>Meet the <code>range()</code> Function <i class="fas fa-magic" style="margin-left: 10px;"></i></h3>
    </div>
    
    <div style="text-align: center; margin-bottom: 30px;">
        <div style="background: linear-gradient(135deg, rgba(0, 38, 84, 0.1), rgba(52, 152, 219, 0.1)); border-radius: var(--border-radius); padding: 25px; margin-bottom: 25px;">
            <div style="font-size: 2.5em; margin-bottom: 15px;">ðŸŽ¯</div>
            <h4 style="color: var(--accent-color); margin-bottom: 15px; font-size: 1.3em;">Your Loop's Number Generator</h4>
            <p style="font-size: 1.1em; margin: 0;">Think of <code>range()</code> as a smart counting machine that creates lists of numbers for your loops to use!</p>
        </div>
    </div>
    
    <!-- What range() Does -->
    <div style="background-color: rgba(0, 38, 84, 0.05); border-radius: var(--border-radius); padding: 25px; margin-bottom: 30px;">
        <h4 style="color: var(--accent-color); text-align: center; margin-bottom: 20px;">How <code>range()</code> Works</h4>
        <div class="elements-grid" style="margin: 0; gap: 20px;">
            <div style="text-align: center; padding: 15px;">
                <div style="background: var(--accent-color); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 1.5em;">
                    <i class="fas fa-list-ol"></i>
                </div>
                <h5 style="margin-bottom: 10px;">Creates Number Lists</h5>
                <p style="margin: 0; font-size: 0.9em;">Generates sequences of numbers for loops to count through</p>
            </div>
            <div style="text-align: center; padding: 15px;">
                <div style="background: var(--accent-color); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 1.5em;">
                    <i class="fas fa-cogs"></i>
                </div>
                <h5 style="margin-bottom: 10px;">Controls Your Loop</h5>
                <p style="margin: 0; font-size: 0.9em;">Decides how many times the loop repeats and with what values</p>
            </div>
            <div style="text-align: center; padding: 15px;">
                <div style="background: var(--accent-color); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px; font-size: 1.5em;">
                    <i class="fas fa-sliders-h"></i>
                </div>
                <h5 style="margin-bottom: 10px;">Highly Customisable</h5>
                <p style="margin: 0; font-size: 0.9em;">Set where to start, stop, and how much to count by</p>
            </div>
        </div>
    </div>
    
    <!-- Interactive Visualization -->
    <div style="background: linear-gradient(135deg, rgba(0, 38, 84, 0.08), rgba(52, 152, 219, 0.08)); border-radius: var(--border-radius); padding: 30px; margin-bottom: 25px; border: 2px solid rgba(52, 152, 219, 0.2);">
        <h4 style="color: var(--accent-color); text-align: center; margin-bottom: 25px; font-size: 1.2em;">
            <i class="fas fa-eye" style="margin-right: 10px;"></i>
            Watch <code>range()</code> in Action!
        </h4>
        
        <div style="text-align: center; margin-bottom: 25px;">
            <div style="background: white; border-radius: 8px; padding: 15px; margin-bottom: 20px; border: 2px solid var(--accent-color);">
                <h5 style="color: var(--accent-color); margin-bottom: 10px; font-family: 'Courier New', monospace;">range(1, 6)</h5>
                <p style="margin: 0; font-style: italic; color: #666;">Creates the sequence:</p>
            </div>
            
            <div style="display: flex; justify-content: center; align-items: center; gap: 15px; margin: 25px 0;">
                <div class="range-arrow" style="font-size: 2em; color: var(--accent-color); opacity: 0;">â†’</div>
                <div class="range-number" data-number="1" style="background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; opacity: 0; transform: scale(0.5); box-shadow: 0 4px 8px rgba(0,0,0,0.1);">1</div>
                <div class="range-number" data-number="2" style="background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; opacity: 0; transform: scale(0.5); box-shadow: 0 4px 8px rgba(0,0,0,0.1);">2</div>
                <div class="range-number" data-number="3" style="background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; opacity: 0; transform: scale(0.5); box-shadow: 0 4px 8px rgba(0,0,0,0.1);">3</div>
                <div class="range-number" data-number="4" style="background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; opacity: 0; transform: scale(0.5); box-shadow: 0 4px 8px rgba(0,0,0,0.1);">4</div>
                <div class="range-number" data-number="5" style="background: var(--accent-color); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 1.2em; opacity: 0; transform: scale(0.5); box-shadow: 0 4px 8px rgba(0,0,0,0.1);">5</div>
            </div>
            
            <p id="range-description" style="font-style: italic; color: #666; margin-bottom: 20px; opacity: 0; font-size: 1.1em;">Click the button to see how the numbers appear!</p>
        </div>
        
        <div style="text-align: center;">
            <button id="animate-range-btn" style="background: var(--accent-color); color: white; border: none; padding: 15px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; font-size: 1.1em; box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);">
                <i class="fas fa-play"></i> Animate range(1, 6)
            </button>
        </div>
    </div>
    
    <!-- Key Understanding -->
    <div style="background-color: rgba(16, 185, 129, 0.1); border-left: 4px solid #10b981; border-radius: var(--border-radius); padding: 20px;">
        <div style="display: flex; align-items: flex-start;">
            <div style="background: #10b981; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; flex-shrink: 0;">
                <i class="fas fa-lightbulb"></i>
            </div>
            <div>
                <h5 style="color: #10b981; margin-top: 0; margin-bottom: 10px;">Key Understanding</h5>
                <p style="margin: 0; font-size: 1.05em;"><strong>Important:</strong> <code>range(1, 6)</code> creates numbers 1, 2, 3, 4, 5 â€” it <em>stops before</em> the second number (6). This is how Python's <code>range()</code> function always works!</p>
            </div>
        </div>
    </div>
</div>

                <br>
                
                <!-- Interactive syntax breakdown populated by editor.js -->
                <div id="syntax-breakdown-container"></div>
                
            </div>
        </section>

        <!-- CHEW 2: Interactive Coding -->
        <section id="chew2" class="tab-content light-section">
            <h1>CHEW 2: TRY IT YOURSELF <i class="fas fa-keyboard" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 15 mins</div>
                
                <h3>Interactive Coding Experience</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Experiment with for loops in a real Python environment</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Understand how changing different parts affects the output</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Practice writing and modifying Python code</li>
                    </ul>
                </div>

                <!-- Brief concept recap -->
                <div class="interactive-card">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <h3>Quick Recap <i class="fas fa-refresh" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div style="background-color: rgba(0, 38, 84, 0.05); border-radius: var(--border-radius); padding: 20px; margin-bottom: 20px;">
                        <h4 style="color: var(--accent-color); margin-top: 0;">Key Concepts So Far:</h4>
                        <ul style="margin-bottom: 0;">
                            <li>Loops help us repeat code without writing it multiple times</li>
                            <li>For loops run a specific number of times</li>
                            <li>The range() function creates a sequence of numbers</li>
                        </ul>
                    </div>
                </div>
                <br>
                
                <!-- Primary coding playground populated by editor.js -->
                <div id="primary-playground-container"></div>
            </div>
        </section>

        <!-- CHUNK 3: Applications -->
        <section id="chunk3" class="tab-content dark-section">
            <h1>CHUNK 3: LOOP APPLICATIONS <i class="fas fa-lightbulb" style="margin-left: 15px;"></i></h1>
            
            <div class="chunk-section">
                <div class="chunk-badge">TEACHER CHUNK</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 10 mins</div>
                
                <h3>Practical Applications of For Loops</h3>
                
                <p>For loops are incredibly useful for solving many different types of problems. Let's explore some common ways that programmers use loops.</p>
                
                <!-- Common Coding Mistakes -->
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">1</div>
                        <h3>Common Loop Errors to Avoid <i class="fas fa-exclamation-triangle" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <div class="two-column-grid" style="margin: 0; gap: 20px;">
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Missing Colon</h4>
                            <div class="code-block" style="color: var(--bad-color);">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span>)
    <span style="color: #66D9EF;">print</span>(<span style="color: #50FA7B;">i</span>)
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> Missing colon (:) at the end of the for statement.</p>
                                <p style="margin: 0;"><strong>Fix:</strong> Always add a colon at the end of the for line.</p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #50FA7B;">i</span>)
                                </div>
                            </div>
                        </div>
                        
                        <div class="interactive-card" style="border-left: 4px solid var(--bad-color);">
                            <h4><i class="fas fa-times-circle" style="color: var(--bad-color); margin-right: 12px;"></i> Missing Indentation</h4>
                            <div class="code-block" style="color: var(--bad-color);">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span>):
<span style="color: #66D9EF;">print</span>(<span style="color: #50FA7B;">i</span>)
                            </div>
                            <div style="background-color: rgba(0,0,0,0.05); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                                <p style="margin-bottom: 10px;"><strong>Problem:</strong> Missing indentation for the code inside the loop.</p>
                                <p style="margin: 0;"><strong>Fix:</strong> Indent the code inside the loop (usually 4 spaces).</p>
                                <div class="code-block" style="color: var(--good-color); margin-top: 15px;">
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">5</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #50FA7B;">i</span>)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-card" style="margin-top: 30px;">
                    <div class="element-header" style="margin: -35px -35px 30px -35px; padding: 20px 25px;">
                        <div class="element-number">2</div>
                        <h3>Creating Patterns <i class="fas fa-star" style="margin-left: 10px;"></i></h3>
                    </div>
                    
                    <p style="font-size: 1.2em; margin-bottom: 20px;">Loops make it easy to Run Codes like this:</p>
                    
                    <div class="two-column-grid" style="margin: 0; gap: 20px;">
                        <div class="code-block" style="font-size: 0.9em;">
<span class="code-comment"># Print a pattern of stars</span>
<span style="color: #F92672;">for</span> <span style="color: #50FA7B;">i</span> <span style="color: #F92672;">in</span> <span style="color: #66D9EF;">range</span>(<span style="color: #AE81FF;">1</span>, <span style="color: #AE81FF;">6</span>):
    <span style="color: #66D9EF;">print</span>(<span style="color: #E6DB74;">"*"</span> * <span style="color: #50FA7B;">i</span>)
                        </div>
                        
                        <div class="result-display">
*
**
***
****
*****
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(0,0,0,0.05); border-radius: var(--border-radius); padding: 15px; margin-top: 25px;">
                        <p style="margin: 0;"><i class="fas fa-lightbulb" style="color: var(--accent-color); margin-right: 10px;"></i> <strong>Key Insight:</strong> The <code>*</code> symbol can be multiplied by a number to repeat it. For example, <code>"*" * 3</code> gives <code>***</code>.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHEW 3: Challenge Activities -->
        <section id="chew3" class="tab-content light-section">
            <h1>CHEW 3: CHALLENGE TIME! <i class="fas fa-trophy" style="margin-left: 15px;"></i></h1>
            
            <div class="chew-section">
                <div class="chew-badge">STUDENT ACTIVITY</div>
                <div class="timer-badge"><i class="fas fa-clock"></i> 15 mins</div>
                
                <h3>For Loop Challenge Exercises</h3>
                
                <div class="activity-goal">
                    <h4><i class="fas fa-bullseye" style="color: var(--chew-color);"></i> Activity Goals</h4>
                    <ul style="list-style-type: none; padding-left: 0;">
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Apply what you've learned about for loops</li>
                        <li><i class="fas fa-angle-right" style="margin-right: 12px; color: var(--chew-color);"></i> Create and modify code to achieve specific outcomes</li>
                    </ul>
                </div>

                <!-- Statement building exercise populated by editor.js -->
                <div id="statement-building-container"></div>

                <br>

                <div id="spot-the-error-container" style="margin-top: 30px;"></div> 


                <!-- Tracing challenge populated by editor.js -->
                <div id="tracing-challenge-container"></div>

                <br>
                
                <!-- Extension coding environment populated by editor.js -->
                <div id="secondary-playground-container"></div>
            </div>
        </section>
    </main>

    <script>
        // Shuffle function for randomising arrays
        function shuffle(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Page Configuration - All page-specific content lives here
        // In your index.html <script> tag where pageConfig is defined

const pageConfig = {
    pageIdentifier: "python-for-loops", // Unique identifier for this page
    topic: {
        title: "Python For Loops", // For display, if needed
        sidebarTitle: "PYTHON FOR LOOPS" // For the sidebar
    },

    // Primary coding playground configuration
    primaryPlayground: {
        title: "Code Lab 1",
        subtitle: "Practice writing and changing for loops and range() functions",
        icon: "fa-flask",
        initialCode: `for i in range(1, 4):\n    print("Number: ", i)`,
        buttonText: "Run Code",
        terminalReady: "", // Initial message in terminal
        storageKey: "primaryExperiments" // For potential local storage of user code
    },

    // Secondary coding playground configuration (e.g., for star patterns)
    secondaryPlayground: {
        title: "Code Lab 2",
        subtitle: "Apply deeper understanding of loops to create visual patterns and designs",
        icon: "fa-flask",
        initialCode: `for i in range(1, 6):\n    print("*" * i)`,
        buttonText: "Run Code",
        terminalReady: "",
        storageKey: "secondaryExperiments"
    },

    // Experiments configuration
    experiments: {
            primary: {
                title: "Code Lab 1 Experiments",
                icon: "fa-flask",
                experiments: [
                    {
                        id: "exp1",
                        title: "Run Original Code",
                        taskExplanation: "Execute the basic 'for' loop to observe its output and understand its fundamental operation.",
                        detailedInstructions: [
                            "Examine the <code>for i in range(1, 4):</code> structure.",
                            "Predict the output of <code>print(\"Number: \", i)</code> for this range.",
                            "Click 'Run Code' to verify your prediction."
                        ],
                        pattern: /for\s+\w+\s+in\s+range\s*\(\s*1\s*,\s*4\s*\)\s*:\s*\n\s*print/
                    },
                    {
                        id: "exp2",
                        title: "Change Variable Name",
                        taskExplanation: "Modify the loop variable's name to demonstrate its arbitrary nature, as long as it's used consistently.",
                        detailedInstructions: [
                            "Replace the variable <code>i</code> with a new name (e.g., <code>count</code>).",
                            "Ensure consistency: <code>for <span class='code-instr-var'>count</span> in range...</code> and <code>print(..., <span class='code-instr-var'>count</span>)</code>.",
                            "Run the code. The output should remain the same."
                        ],
                        pattern: /for\s+(?!i\s)[a-zA-Z_]\w*\s+in\s+range/
                    },
                    {
                        id: "exp3",
                        title: "Change Start Value",
                        taskExplanation: "Alter the starting number in `range()` to control where the loop begins its sequence.",
                        detailedInstructions: [
                            "In <code>range(<span class='code-instr-val'>1</span>, 4)</code>, change the start value <code>1</code> (e.g., to <code>0</code> or <code>3</code>).",
                            "Observe how this affects the first number printed.",
                            "Try <code>range(<span class='code-instr-val'>2</span>, <span class='code-instr-val'>5</span>)</code> and predict its output."
                        ],
                        pattern: /for\s+\w+\s+in\s+range\s*\(\s*(?!1\b)\d+\s*,/
                    },
                    {
                        id: "exp4",
                        title: "Change End Value",
                        taskExplanation: "Modify the stopping number in `range()` to control the total number of iterations.",
                        detailedInstructions: [
                            "In <code>range(1, <span class='code-instr-val'>4</span>)</code>, change the stop value <code>4</code> (e.g., to <code>6</code> or <code>2</code>).",
                            "Remember, <code>range()</code> stops *before* this number.",
                            "Note how many times the loop body executes."
                        ],
                        pattern: /for\s+\w+\s+in\s+range\s*\([^,]+,\s*(?!4\b)\d+/
                    },
                    {
                        id: "exp5",
                        title: "Add Multiple Statements",
                        taskExplanation: "Include more than one indented line of code inside the loop to perform multiple actions per iteration.",
                        detailedInstructions: [
                            "Below the existing <code>print()</code>, add another indented <code>print()</code>.",
                            "For instance: <code>print(\"Looping...\")</code>.",
                            "Ensure both <code>print</code> statements are equally indented under the <code>for</code> line."
                        ],
                        pattern: /for[\s\S]*?:\s*\n\s*print[\s\S]*?\n\s*print/
                    },
                    {
                        id: "exp6",
                        title: "Use Step Parameter",
                        taskExplanation: "Introduce a third argument to `range()` to make the loop skip numbers or count in different increments.",
                        detailedInstructions: [
                            "Modify <code>range()</code> to include a step: <code>range(1, 10, <span class='code-instr-val'>2</span>)</code>.",
                            "Predict the sequence this will generate (1, 3, 5, 7, 9).",
                            "Try a negative step: <code>range(5, 0, <span class='code-instr-val'>-1</span>)</code> for counting down."
                        ],
                        pattern: /range\s*\([^)]*,\s*[^)]*,\s*[^)]*\)/
                    }
                ]
            },
            secondary: { // Star Experiments - apply similar formatting
                title: "Code Lab 2 Experiments",
                icon: "fa-flask",
                experiments: [
                    {
                        id: "star-exp1",
                        title: "Run Star Pattern",
                        taskExplanation: "Execute the star pattern code to see how loops and string multiplication create visual shapes.",
                        detailedInstructions: [
                            "Understand how <code>\"*\" * i</code> creates a string of <code>i</code> stars.",
                            "Follow how <code>i</code> (the loop variable) changes.",
                            "Click 'Create Pattern' to see the triangle."
                        ],
                        pattern: /for\s+\w+\s+in\s+range\s*\([^)]*\)\s*:\s*\n\s*print\s*\(\s*["'][\*#@]+["']\s*\*\s*\w+\s*\)/
                    },
                    {
                        id: "star-exp2",
                        title: "Change Pattern Size",
                        taskExplanation: "Adjust the `range()` function to control the number of rows in the star triangle.",
                        detailedInstructions: [
                            "Modify the second argument in <code>range(1, <span class='code-instr-val'>6</span>)</code>.",
                            "Try <code>range(1, <span class='code-instr-val'>9</span>)</code> for a larger triangle.",
                            "Or <code>range(1, <span class='code-instr-val'>4</span>)</code> for a smaller one."
                        ],
                        pattern: /for\s+\w+\s+in\s+range\s*\(\s*\d+\s*,\s*(?!6\b)\d+\s*\)/
                    },
                    {
                        id: "star-exp3",
                        title: "Different Symbols",
                        taskExplanation: "Replace the '*' character with other symbols to vary the visual output of the pattern.",
                        detailedInstructions: [
                            "In <code>print(\"<span class='code-instr-str'>\"*\"</span> * i)</code>, change the string <code>\"*\"</code>.",
                            "Try symbols like <code>\"#\"</code>, <code>\"@\"</code>, or <code>\"+\"</code>.",
                            "Example: <code>print(\"<span class='code-instr-str'>\"#\"</span> * i)</code>."
                        ],
                        pattern: /print\s*\(\s*["'](?![\*])[\S]["']\s*\*\s*\w+\s*\)/
                    },
                    {
                        id: "star-exp4",
                        title: "Add Numbers",
                        taskExplanation: "Enhance the pattern by printing the current row number alongside the symbols.",
                        detailedInstructions: [
                            "Modify the <code>print()</code> statement to include the loop variable <code>i</code>.",
                            "For example: <code>print(i, \": \", \"*\" * i)</code>.",
                            "This adds context to each row of the pattern."
                        ],
                        pattern: /print\s*\([^)]*\w+[^)]*["'][\*#@]+["'][^)]*\w+[^)]*\)/
                    },
                    {
                        id: "star-exp5",
                        title: "Reverse Triangle",
                        taskExplanation: "Modify the loop to create a triangle that decreases in size from top to bottom.",
                        detailedInstructions: [
                            "Change <code>range()</code> to count downwards using a negative step.",
                            "Example: <code>for i in range(<span class='code-instr-val'>5</span>, <span class='code-instr-val'>0</span>, <span class='code-instr-val'>-1</span>):</code>.",
                            "This makes <code>i</code> go 5, 4, 3, 2, 1, reversing the triangle."
                        ],
                        pattern: /range\s*\(\s*\d+\s*,\s*\d+\s*,\s*-\d+\s*\)/
                    }
                ]
            }
        },
    // Quiz configuration (for CHEW 1)
    quiz: {
        questions: [
            {
                type: "true-false",
                question: "Loops help us avoid writing the same code multiple times.",
                correctAnswer: "true",
                feedbackCorrect: "Correct! Loops allow us to repeat code without having to write it over and over.",
                feedbackIncorrect: "Incorrect. Loops do help us avoid repetitive code by letting us repeat instructions with a single block of code."
            },
            {
                type: "true-false",
                question: "In Python, a for loop repeats code forever until stopped.",
                correctAnswer: "false",
                feedbackCorrect: "Correct! A for loop repeats a specific number of times, not forever. While loops can potentially run forever.",
                feedbackIncorrect: "Incorrect. A for loop runs for a specific number of iterations. While loops are the ones that can potentially run forever if their condition is always true."
            },
            {
                type: "true-false",
                question: "The code inside a for loop must be indented.",
                correctAnswer: "true",
                feedbackCorrect: "Correct! In Python, indentation is required to show which code belongs inside the loop.",
                feedbackIncorrect: "Incorrect. Python requires indentation to identify which code is part of the loop's body."
            },
            {
                type: "true-false",
                question: "The `range(1, 5)` function will generate the numbers 1, 2, 3, 4, 5.",
                correctAnswer: "false",
                feedbackCorrect: "Correct! `range(1, 5)` will generate 1, 2, 3, 4 - it stops before the second number.",
                feedbackIncorrect: "Incorrect. `range(1, 5)` generates 1, 2, 3, 4 - the end number is not included."
            }
        ]
    },

    // Statement building configuration (for CHEW 3)
    statementBuilding: {
        challenge: "Create a loop that counts from 1 to 10",
        instruction: "Click the code parts in the correct order to build the 'for' loop statement:",
        parts: shuffle(["for", "num", "in", "range", "(", "1", ",", "11", ")", ":"]), // Randomized order
        correctSequence: ["for", "num", "in", "range", "(", "1", ",", "11", ")", ":"],
        correctAnswer: "for num in range(1, 11):" // Used for feedback
    },

    // Loop Tracing Challenge (for CHEW 3)
    tracingChallenge: {
        title: "Loop Tracing Challenge",
        instruction: "Carefully trace the execution of this code and predict the final value of `total`:",
        code: `total = 0
for i in range(1, 5):
    total = total + i
print(total)`,
        question: "What will be the final value of `total` printed by this code?",
        options: [
            { value: "A", text: "5" },
            { value: "B", text: "10" },
            { value: "C", text: "15" }, // Changed one option to make B unique for value 10
            { value: "D", text: "4" }
        ],
        correctAnswer: "B",
        explanation: "Correct! The loop iterates with `i` being 1, 2, 3, and 4. So, `total` becomes 0+1=1, then 1+2=3, then 3+3=6, and finally 6+4=10.",
        buckles: 5 // Buckles for this challenge
    },

    // NEW "Spot the Error" Quiz (for CHEW 3)
    spotTheErrorQuiz: {
        title: "Spot the Syntax Error!",
        instruction: "Examine the Python code below and identify the option that best describes the syntax error, if any.",
        code: `count = 0
for num in range(1, 5)
    print("Number is:", num)
    count = count + 1
print("Final count:", count)`,
        question: "What is the primary syntax error in the code snippet above?",
        options: [
            { value: "A", text: "Missing colon <code>:</code> after <code>range(1, 5)</code>", detail: "" },
            { value: "B", text: "Incorrect indentation for <code>print(\"Number is:\", num)</code>", detail: "" },
            { value: "C", text: "<code>count = count + 1</code> should be <code>count += 1</code>", detail: "" },
            { value: "D", text: "No syntax error in this code", detail: "" }
        ],
        correctAnswer: "A",
        explanation: "Correct! The line `for num in range(1, 5)` is missing a colon (`:`) at the end. In Python, a colon is required to signify the start of an indented block of code for loops, functions, conditionals, etc.",
        buckles: 1 // Buckles for this challenge
    },

    // Interactive Syntax Breakdown (for CHUNK 2)
    syntaxBreakdown: {
        code: `<span class="syntax-part" data-part="for" style="color: #F92672;">for</span>
<span class="syntax-part" data-part="variable" style="color: #50FA7B;">number</span>
<span class="syntax-part" data-part="in" style="color: #F92672;">in</span>
<span class="syntax-part" data-part="range" style="color: #66D9EF;">range</span><span class="syntax-part" data-part="parentheses" style="color: #F8F8F2;">(</span><span class="syntax-part" data-part="start" style="color: #AE81FF;">1</span><span class="syntax-part" data-part="comma" style="color: #F8F8F2;">,</span> <span class="syntax-part" data-part="stop" style="color: #AE81FF;">4</span><span class="syntax-part" data-part="parentheses" style="color: #F8F8F2;">)</span><span class="syntax-part" data-part="colon" style="color: #F8F8F2;">:</span>
<br>Â Â Â Â <span class="syntax-part" data-part="print" style="color: #66D9EF;">print</span><span class="syntax-part" data-part="parentheses" style="color: #F8F8F2;">(</span><span style="color: #E6DB74;">"Number: "</span><span class="syntax-part" data-part="comma" style="color: #F8F8F2;">,</span> <span class="syntax-part" data-part="variable" style="color: #50FA7B;">number</span><span class="syntax-part" data-part="parentheses" style="color: #F8F8F2;">)</span>`,
        explanations: {
            'for': { title: 'The "for" Keyword', text: 'This special word tells Python you\'re starting a loop. It\'s always the first part of any for loop.' },
            'variable': { title: 'Loop Variable', text: 'This is a container that holds each value from the sequence (generated by `range()`) one by one as the loop runs. You can name it almost anything descriptive (e.g., `number`, `i`, `count`).' },
            'in': { title: 'The "in" Keyword', text: 'This word connects the loop variable to the sequence of values it will iterate over.' },
            'range': { title: 'The range() Function', text: 'This built-in function generates a sequence of numbers. The loop will execute once for each number in this sequence.' },
            'parentheses': { title: 'Parentheses ()', text: 'These enclose the arguments passed to the `range()` function and the `print()` function.' },
            'start': { title: 'Start Value (for range)', text: 'In `range(1, 4)`, this is the first number in the sequence the loop will use (inclusive).' },
            'stop': { title: 'Stop Value (for range)', text: 'In `range(1, 4)`, the loop generates numbers up to, but *not including*, this value. So, it stops before 4.' },
            'comma': { title: 'Comma Separator', text: 'Commas are used to separate different arguments in functions like `range()` and `print()`.' },
            'colon': { title: 'Colon (:)', text: 'This crucial symbol marks the end of the `for` statement line and indicates that an indented block of code (the loop body) will follow.' },
            'print': { title: 'Print Function', text: 'This displays output to the screen. Everything inside its parentheses will be shown in the terminal.' }
        }
    },

    // Shepherd Tours Configuration
    tours: {
        "exp1": { // Tour for experiment: Run Original Code
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸš€ Run Original Code",
                    text: `<p>Let's run the basic <code>for</code> loop code that's already in the editor.</p>
                           <p>This will show you how a simple <code>for</code> loop works!</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "â–¶ï¸ Click Run Code",
                    text: `<p>Click the 'Run Code' button to execute the <code>for</code> loop.</p>
                           <p>Watch the output terminal to see what happens!</p>`,
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Got It!", action: "complete" }]
                }
            ]
        },
        "exp2": { // Tour for experiment: Change Variable Name
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸ“ Change Variable Name",
                    text: `<p>The variable in a loop (here, <code>i</code>) can be named differently.</p>
                           <p>Try changing <code>i</code> to <span class="code-tour-var">num</span> in both places it appears:
                           <code>for <span class="code-tour-var">num</span> in range...</code> and <code>print(..., <span class="code-tour-var">num</span>)</code>.</p>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "âœï¸ Edit the Code",
                    text: `<p>Modify the code now. For example:</p>
                           <div class='tour-code-block'>
                             <span class='code-keyword'>for</span> <span class='code-variable' style='background:rgba(255,255,0,0.3);'>num</span> <span class='code-keyword'>in</span> <span class='code-function'>range</span>(<span class='code-number'>1</span>, <span class='code-number'>4</span>):<br>
                                 <span class='code-function'>print</span>(<span class='code-string'>'Number: '</span>, <span class='code-variable' style='background:rgba(255,255,0,0.3);'>num</span>)
                           </div>
                           <p>The parts highlighted (like <span class="code-tour-var" style='background:rgba(255,255,0,0.3);'>num</span>) are what you'd change.</p>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "I Made Changes", action: "next" }]
                },
                {
                    title: "ðŸš€ Test Your Changes",
                    text: "<p>Now run your modified code. The output should be the same!</p>",
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        },
         "exp3": { // Tour for experiment: Change Start Value
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸ”¢ Change Start Value",
                    text: `<p>The <code>range(<span class='code-tour-val'>start</span>, <span class='code-tour-val'>stop</span>)</code> function begins its sequence at <code>start</code>.</p>
                           <p>Currently, it's <code>range(1, 4)</code>. Let's change the <code>1</code>.</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "âœï¸ Modify range()",
                    text: `<p>Change the first number in <code>range()</code>. Try making it <code>range(<span class="code-tour-val" style="background:rgba(144,238,144,0.4);">0</span>, 4)</code> or <code>range(<span class="code-tour-val" style="background:rgba(144,238,144,0.4);">2</span>, 5)</code>.</p>
                           <div class='tour-code-block'>
                             <span class='code-keyword'>for</span> i <span class='code-keyword'>in</span> <span class='code-function'>range</span>(<span class='code-number' style='background:rgba(144,238,144,0.4);'>0</span>, <span class='code-number'>4</span>):<br>
                                 <span class='code-function'>print</span>(<span class='code-string'>"Number: "</span>, i)
                           </div>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "I Changed It", action: "next" }]
                },
                {
                    title: "ðŸ§ª Discover the Result",
                    text: "<p>Run the code. How did the output change based on your new start value?</p>",
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Done!", action: "complete" }]
                }
            ]
        },
        "exp4": { // Tour for experiment: Change End Value
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸŽ¯ Change End Value",
                    text: `<p><code>range(<span class="code-tour-val">start</span>, <span class="code-tour-val">stop</span>)</code> generates numbers up to *but not including* <code>stop</code>.</p>
                           <p>In <code>range(1, 4)</code>, it stops before 4. Let's change this <code>stop</code> value.</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "âœï¸ Modify the End",
                    text: `<p>Change the second number in <code>range()</code>. Try <code>range(1, <span class="code-tour-val" style="background:rgba(173,216,230,0.4);">6</span>)</code> to loop more times, or <code>range(1, <span class="code-tour-val" style="background:rgba(173,216,230,0.4);">2</span>)</code> to loop fewer times.</p>
                           <div class='tour-code-block'>
                             <span class='code-keyword'>for</span> i <span class='code-keyword'>in</span> <span class='code-function'>range</span>(<span class='code-number'>1</span>, <span class='code-number' style='background:rgba(173,216,230,0.4);'>6</span>):<br>
                                 <span class='code-function'>print</span>(<span class='code-string'>"Number: "</span>, i)
                           </div>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "Changed It!", action: "next" }]
                },
                {
                    title: "ðŸ“Š Count the Results",
                    text: "<p>Run the code. How many numbers are printed now? Does it match your expectation based on the new <code>stop</code> value?</p>",
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        },
        "exp5": { // Tour for experiment: Add Multiple Statements
            useModalOverlay: false,
            steps: [
                {
                    title: "âž• Add Multiple Statements",
                    text: `<p>A loop can repeat multiple lines of code. All indented lines under the <code>for</code> statement belong to the loop.</p>
                           <p>Let's add another <code>print()</code> statement.</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "âœï¸ Add Another Line",
                    text: `<p>Below the existing <code>print()</code>, add another <code>print()</code> statement with the same indentation.</p>
                           <div class='tour-code-block'>
                             <span class='code-keyword'>for</span> i <span class='code-keyword'>in</span> <span class='code-function'>range</span>(<span class='code-number'>1</span>, <span class='code-number'>3</span>):<br>
                                 <span class='code-function'>print</span>(<span class='code-string'>'Number: '</span>, i)<br>
                                 <span class='code-function' style='background:rgba(240,128,128,0.4);'>print</span>(<span class='code-string' style='background:rgba(240,128,128,0.4);'>"Looping!"</span>)
                           </div>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "Added It!", action: "next" }]
                },
                {
                    title: "ðŸ”„ See the Repetition",
                    text: "<p>Run the code. Both <code>print</code> statements should execute for each number in the range.</p>",
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Done!", action: "complete" }]
                }
            ]
        },
        "exp6": { // Tour for experiment: Use Step Parameter
            useModalOverlay: false,
            steps: [
                {
                    title: "âš¡ Use Step Parameter",
                    text: `<p><code>range()</code> can take a third argument: <span class="code-tour-var">step</span>. This controls the increment between numbers.</p>
                           <p>For example, <code>range(<span class="code-tour-val">start</span>, <span class="code-tour-val">stop</span>, <span class="code-tour-val">step</span>)</code>.</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "âœï¸ Add the Step",
                    text: `<p>Modify <code>range()</code> to count by 2s up to 10: <code>range(0, 10, <span class="code-tour-val" style="background:rgba(255,255,0,0.3);">2</span>)</code>.</p>
                           <div class='tour-code-block'>
                             <span class='code-keyword'>for</span> i <span class='code-keyword'>in</span> <span class='code-function'>range</span>(<span class='code-number'>0</span>, <span class='code-number'>10</span>, <span class='code-number' style='background:rgba(255,255,0,0.3);'>2</span>):<br>
                                 <span class='code-function'>print</span>(i)
                           </div>
                           <p>Try <code>range(5, 0, <span class="code-tour-val" style="background:rgba(255,255,0,0.3);">-1</span>)</code> to count down!</p>`,
                    attachTo: { element: ".coding-playground .code-panel", on: "right" },
                    buttons: [{ text: "Added Step!", action: "next" }]
                },
                {
                    title: "ðŸŽ¢ Skip Around",
                    text: "<p>Run the code. Observe how the <code>step</code> parameter changes the sequence of numbers printed.</p>",
                    attachTo: { element: "#run-primary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        },
        // Tours for Secondary Playground (Star Patterns)
        "star-exp1": {
            useModalOverlay: true,
            steps: [
                {
                    title: "â­ Create Star Pattern",
                    text: `<p>This code uses a loop to print lines of stars, forming a triangle.</p>
                           <p>The <code>"*" * i</code> part repeats the star <span class="code-tour-var">i</span> times.</p>`,
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "ðŸŽ¨ Create the Pattern",
                    text: "<p>Click 'Create Pattern' to see the triangle!</p>",
                    attachTo: { element: "#run-secondary-btn", on: "top" },
                    buttons: [{ text: "Done!", action: "complete" }]
                }
            ]
        },
        "star-exp2": {
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸ“ Change Pattern Size",
                    text: `<p>The <code>range(1, 6)</code> controls the triangle's height.</p>
                           <p>Change the <code>6</code> to make it taller (e.g., <code>9</code> for <code>range(1,9)</code>) or shorter (e.g., <code>4</code> for <code>range(1,4)</code>).</p>`,
                    attachTo: { element: ".secondary-playground .code-panel", on: "right" },
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "ðŸ—ï¸ Build Your Triangle",
                    text: "<p>Modify the <code>range()</code> and click 'Create Pattern' to see the new size!</p>",
                    attachTo: { element: "#run-secondary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        },
        "star-exp3": {
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸŽ¨ Different Symbols",
                    text: `<p>Instead of <code>"*"</code>, you can use any character.</p>
                           <p>Try changing <code>"*" * i</code> to <code>"#" * i</code> or <code>"@" * i</code>.</p>`,
                    attachTo: { element: ".secondary-playground .code-panel", on: "right" },
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "ðŸŒŸ Create New Pattern",
                    text: "<p>Change the symbol and click 'Create Pattern'!</p>",
                    attachTo: { element: "#run-secondary-btn", on: "top" },
                    buttons: [{ text: "Done!", action: "complete" }]
                }
            ]
        },
        "star-exp4": {
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸ”¢ Add Numbers",
                    text: `<p>Let's print the row number with the stars. Modify the <code>print</code> statement.</p>
                           <p>Try: <code>print(i, ":", "*" * i)</code></p>`,
                    attachTo: { element: ".secondary-playground .code-panel", on: "right" },
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "ðŸ“Š Numbered Pattern",
                    text: "<p>After changing the <code>print</code> statement, click 'Create Pattern' to see the numbered rows.</p>",
                    attachTo: { element: "#run-secondary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        },
        "star-exp5": {
            useModalOverlay: false,
            steps: [
                {
                    title: "ðŸ”„ Reverse Triangle",
                    text: `<p>To make the triangle go from wide to narrow, we need <code>range()</code> to count down.</p>
                           <p>Try <code>range(5, 0, -1)</code>. This means start at <span class="code-tour-val">5</span>, go down to (but not including) <span class="code-tour-val">0</span>, stepping by <span class="code-tour-val">-1</span>.</p>`,
                    attachTo: { element: ".secondary-playground .code-panel", on: "right" },
                    buttons: [{ text: "Next", action: "next" }]
                },
                {
                    title: "ðŸ”» Create Reverse Triangle",
                    text: `<p>Change <code>range()</code> to count down (e.g., <code>range(5, 0, -1)</code>) and click 'Create Pattern'.</p>`,
                    attachTo: { element: "#run-secondary-btn", on: "top" },
                    buttons: [{ text: "Complete!", action: "complete" }]
                }
            ]
        }
    }
};

// Shuffle function (if not already globally available or part of another script)
function shuffle(array) {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
}

// Initialize the educational system (this would typically be at the end of your script in index.html)
document.addEventListener('DOMContentLoaded', function() {
    if (typeof EducationalEditor !== 'undefined') {
        EducationalEditor.initialize(pageConfig);
    } else {
        console.error('editor.js not loaded - Educational system cannot initialize');
    }

    // Initialize GSAP range animation (if this function exists in your index.html or another script)
    if (typeof initializeRangeAnimation === 'function') {
        initializeRangeAnimation();
    }
});

        // Initialize the educational system with the configuration
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof EducationalEditor !== 'undefined') {
                EducationalEditor.initialize(pageConfig);
            } else {
                console.error('editor.js not loaded - Educational system cannot initialize');
            }
            
            // Initialize GSAP range animation
            initializeRangeAnimation();
        });
        
        // GSAP Range Animation
        function initializeRangeAnimation() {
            const animateBtn = document.getElementById('animate-range-btn');
            const rangeNumbers = document.querySelectorAll('.range-number');
            const rangeArrow = document.querySelector('.range-arrow');
            const rangeDescription = document.getElementById('range-description');
            
            if (!animateBtn) return;
            
            animateBtn.addEventListener('click', function() {
                // Reset all elements
                gsap.set(rangeNumbers, { opacity: 0, scale: 0.5 });
                gsap.set(rangeArrow, { opacity: 0 });
                gsap.set(rangeDescription, { opacity: 0 });
                
                // Disable button during animation
                animateBtn.disabled = true;
                animateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Animating...';
                
                // Create animation timeline
                const tl = gsap.timeline();
                
                // Show arrow first
                tl.to(rangeArrow, {
                    opacity: 1,
                    duration: 0.5,
                    ease: "power2.out"
                });
                
                // Animate numbers one by one
                rangeNumbers.forEach((number, index) => {
                    tl.to(number, {
                        opacity: 1,
                        scale: 1,
                        duration: 0.4,
                        ease: "back.out(1.7)"
                    }, "-=0.2");
                    
                    // Add bounce effect
                    tl.to(number, {
                        scale: 1.2,
                        duration: 0.2,
                        ease: "power2.out"
                    });
                    
                    tl.to(number, {
                        scale: 1,
                        duration: 0.2,
                        ease: "power2.out"
                    });
                });
                
                // Show description
                tl.to(rangeDescription, {
                    opacity: 1,
                    duration: 0.5,
                    ease: "power2.out"
                });
                
                // Update description text
                tl.call(() => {
                    rangeDescription.textContent = "range(1, 6) creates numbers: 1, 2, 3, 4, 5 (stops before 6!)";
                });
                
                // Re-enable button
                tl.call(() => {
                    animateBtn.disabled = false;
                    animateBtn.innerHTML = '<i class="fas fa-play"></i> Animate Again';
                });
            });
        }
    </script>
    
</body>
</html>
